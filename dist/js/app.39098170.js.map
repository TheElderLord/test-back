{"version":3,"file":"js/app.39098170.js","mappings":"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","sources":["webpack://vue-js/./src/App.vue","webpack://vue-js/./src/components/sidebar/SidebarComponent.vue","webpack://vue-js/./src/components/sidebar/SidebarLink.vue","webpack://vue-js/./src/components/sidebar/state.js","webpack://vue-js/./src/components/sidebar/SidebarLink.vue?62f0","webpack://vue-js/./src/components/sidebar/SidebarComponent.vue?b94d","webpack://vue-js/./src/utils/api.js","webpack://vue-js/./src/utils/user.js","webpack://vue-js/./src/utils/branches.js","webpack://vue-js/./src/components/header/HeaderComponent.vue","webpack://vue-js/./src/components/header/HeaderComponent.vue?3b9f","webpack://vue-js/./src/components/blocks/dashboard/top/BlockElement.vue","webpack://vue-js/./src/components/blocks/dashboard/top/BlockElement.vue?319b","webpack://vue-js/./src/utils/dashboard.js","webpack://vue-js/./src/utils/main.js","webpack://vue-js/./src/components/header/DashboardTop.vue","webpack://vue-js/./src/components/header/DashboardTop.vue?cf0e","webpack://vue-js/./src/App.vue?7ccd","webpack://vue-js/./src/utils/dashboardAmount.js","webpack://vue-js/./src/views/DashboardAmountView.vue","webpack://vue-js/./src/views/DashboardAmountView.vue?7f72","webpack://vue-js/./src/views/DashboardView.vue","webpack://vue-js/./src/views/DashboardView.vue?7280","webpack://vue-js/./src/components/blocks/monitoring/WindowComponent.vue","webpack://vue-js/./src/components/blocks/monitoring/WindowComponent.vue?4d9f","webpack://vue-js/./src/components/blocks/monitoring/WaitingComponent.vue","webpack://vue-js/./src/components/blocks/monitoring/WaitingComponent.vue?aa24","webpack://vue-js/./src/utils/monitoring.js","webpack://vue-js/./src/components/blocks/monitoring/MonitoringMain.vue","webpack://vue-js/./src/components/blocks/monitoring/MonitoringMain.vue?3cb9","webpack://vue-js/./src/views/MonitoringView.vue","webpack://vue-js/./src/utils/employee.js","webpack://vue-js/./src/views/EmployeeRate.vue","webpack://vue-js/./src/views/EmployeeRate.vue?4f6c","webpack://vue-js/./src/utils/tickets.js","webpack://vue-js/./src/views/TicketsView.vue","webpack://vue-js/./src/views/TicketsView.vue?5327","webpack://vue-js/./src/utils/chat.js","webpack://vue-js/./src/views/ChatView.vue","webpack://vue-js/./src/views/ChatView.vue?fcb5","webpack://vue-js/./src/views/ServersView.vue","webpack://vue-js/./src/views/ServersView.vue?c746","webpack://vue-js/./src/views/UsersView.vue","webpack://vue-js/./src/views/UsersView.vue?66ab","webpack://vue-js/./src/views/ChangerMenu.vue","webpack://vue-js/./src/views/ChangerMenu.vue?9156","webpack://vue-js/./src/views/CameraView.vue","webpack://vue-js/./src/views/CameraView.vue?cd42","webpack://vue-js/./src/views/LoginView.vue","webpack://vue-js/./src/views/LoginView.vue?5755","webpack://vue-js/./src/views/MyProfileView.vue","webpack://vue-js/./src/views/MyProfileView.vue?8d60","webpack://vue-js/./src/views/BillBoardView.vue","webpack://vue-js/./src/utils/board.js","webpack://vue-js/./src/views/BillBoardView.vue?2e43","webpack://vue-js/./src/views/TestView.vue","webpack://vue-js/./src/views/TestView.vue?4760","webpack://vue-js/./src/utils/auth.js","webpack://vue-js/./src/store/index.js","webpack://vue-js/./src/router/index.js","webpack://vue-js/./src/registerServiceWorker.js","webpack://vue-js/./src/main.js","webpack://vue-js/webpack/bootstrap","webpack://vue-js/webpack/runtime/chunk loaded","webpack://vue-js/webpack/runtime/compat get default export","webpack://vue-js/webpack/runtime/define property getters","webpack://vue-js/webpack/runtime/global","webpack://vue-js/webpack/runtime/hasOwnProperty shorthand","webpack://vue-js/webpack/runtime/make namespace object","webpack://vue-js/webpack/runtime/publicPath","webpack://vue-js/webpack/runtime/jsonp chunk loading","webpack://vue-js/webpack/startup"],"sourcesContent":["<script lang=\"js\">\r\nimport SidebarComponent from \"@/components/sidebar/SidebarComponent.vue\";\r\nimport { sidebarWidth } from \"@/components/sidebar/state\";\r\nimport HeaderComponent from \"./components/header/HeaderComponent.vue\";\r\nimport DashboardTop from \"./components/header/DashboardTop.vue\";\r\nimport { useRoute } from 'vue-router';\r\n\r\nexport default {\r\n  components: { SidebarComponent, HeaderComponent, DashboardTop },\r\n  setup() {\r\n    const route = useRoute();\r\n\r\n    return { sidebarWidth, route };\r\n  },\r\n  data() {\r\n    return {\r\n      currentRoute: '',\r\n    }\r\n  },\r\n  methods: {\r\n    isLoginPage() {\r\n      return this.$route.path === \"/login\";\r\n    },\r\n  },\r\n\r\n};\r\n</script>\r\n\r\n\r\n<template>\r\n  <div v-if=\"!isLoginPage()\" class=\"side-bar\">\r\n    <SidebarComponent />\r\n  </div>\r\n  <div class=\"main\" :style=\"{ 'margin-left': !isLoginPage() ? sidebarWidth : 'auto' }\">\r\n    \r\n      <div v-if=\"!isLoginPage()\" class=\"head\">\r\n        <div class=\"header\">\r\n          <header-component v-if=\"!isLoginPage()\"  />\r\n        </div>\r\n        \r\n        <div class=\"dashboard\">\r\n          <dashboard-top v-if=\"!isLoginPage()\" />\r\n        </div>\r\n      </div>\r\n      <router-view/>\r\n    \r\n    \r\n    <!-- <router-view :style=\"{ 'margin-left': !isLoginPage() && sidebarWidth }\" /> -->\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"scss\">\r\n\r\n#app {\r\n  font-family: Avenir, Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  text-align: center;\r\n  color: #2c3e50;\r\n}\r\n\r\n#nav {\r\n  padding: 30px;\r\n}\r\n\r\n#nav a {\r\n  font-weight: bold;\r\n  color: #2c3e50;\r\n}\r\n\r\n#nav a.router-link-exact-active {\r\n  color: #42b983;\r\n}\r\n\r\n.dashboard {\r\n  margin: 0.5rem auto;\r\n}\r\n\r\n@media print{\r\n  .side-bar{\r\n    display: none;\r\n  }\r\n  .header{\r\n    display: none;\r\n  }\r\n \r\n  .main {\r\n    margin-left: auto !important;\r\n  }\r\n}\r\n</style>\r\n","<script>\r\nimport SidebarLink from './SidebarLink'\r\nimport { collapsed, toggleSidebar, sidebarWidth } from './state'\r\n\r\nexport default {\r\n  props: {},\r\n  components: { SidebarLink },\r\n  setup() {\r\n    return { collapsed, toggleSidebar, sidebarWidth }\r\n  }\r\n}\r\n</script>\r\n\r\n<template>\r\n  <div class=\"sidebar\" :style=\"{ width: sidebarWidth }\">\r\n    <!-- <router-link to=\"/\"> -->\r\n      <h5>\r\n        <span v-if=\"collapsed\">\r\n          <span class=\"flex justify-center items-center\"> \r\n            <img src=\"../../assets/logo.png\" alt=\"\" width=\"60%\">\r\n          </span>\r\n        </span>\r\n        <div v-else class=\"flex justify-center\">\r\n           <img src=\"../../assets/logo.png\" alt=\"\" width=\"80%\"> \r\n          <!-- <div class=\"flex justify-center items-center p-2\">Ситуационный центр</div>  -->\r\n        </div>\r\n      </h5>\r\n    <!-- </router-link> -->\r\n    \r\n\r\n     <SidebarLink to=\"/\" icon=\"fas fa-chart-pie\">Количественные показатели</SidebarLink>\r\n     <!-- <SidebarLink to=\"/time-dash\" icon=\"fas fa-chart-bar\">Временные показатели</SidebarLink> -->\r\n     <SidebarLink to=\"/time-dash\" icon=\"fas fa-chart-bar\">Временные показатели</SidebarLink>\r\n     <SidebarLink to=\"/monitoring\" icon=\"fas fa-eye\">Мониторинг</SidebarLink>\r\n     <SidebarLink to=\"/employee-rate\" icon=\"fas fa-poll-h\">Рейтинг сотрудников</SidebarLink>\r\n     <SidebarLink to=\"/tickets\" icon=\"fas fa-ticket-alt\">Билеты</SidebarLink>\r\n      <span class=\"divider\"></span>\r\n     <SidebarLink to=\"/chat\" icon=\"fas fa-comments\">Чат</SidebarLink>\r\n     <!-- <SidebarLink to=\"/users\" icon=\"fas fa-user-tie\">Пользователи</SidebarLink> -->\r\n     <!-- <span class=\"divider\"></span> -->\r\n     <SidebarLink to=\"/server\" icon=\"fas fa-server\">Серверы</SidebarLink>\r\n     <!-- <SidebarLink to=\"/changer\" icon=\"fas fa-toggle-on\" >Переключение режимов</SidebarLink> -->\r\n     <!-- <SidebarLink to=\"/cameras\" icon=\"fas fa-camera\" >Видеокамеры</SidebarLink> -->\r\n     <SidebarLink to=\"/bill-board\" icon=\"fas fa-clipboard-list\" >Доска объявлений</SidebarLink>\r\n     <SidebarLink to=\"/users\" icon=\"fas fa-users\" >Пользователи</SidebarLink>\r\n   \r\n    <!-- <span\r\n      class=\"collapse-icon\"\r\n      :class=\"{ 'rotate-180': collapsed }\"\r\n      @click=\"toggleSidebar\"\r\n    >\r\n      <i class=\"fas fa-angle-double-left\" />\r\n    </span> -->\r\n  </div>\r\n</template>\r\n\r\n<style>\r\n:root {\r\n  --sidebar-bg-color: #9c2550;\r\n  --sidebar-item-hover: #ba7f95;\r\n  --sidebar-item-active: #ab5977;\r\n}\r\n</style>\r\n\r\n<style scoped>\r\n.sidebar {\r\n  color: white;\r\n  background-color: var(--sidebar-bg-color);\r\n\r\n  float: left;\r\n  position: fixed;\r\n  z-index: 1;\r\n  top: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  padding: 0.5em;\r\n\r\n  transition: 0.3s ease;\r\n\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\na{\r\n  text-decoration: none;\r\n  color: white;\r\n}\r\n\r\n.sidebar h5 {\r\n \r\n  height: 2.5em;\r\n}\r\n.divider{\r\n  width: 100%;\r\n  height: 2px;\r\n  background-color: white;\r\n  margin: 0.5rem;\r\n}\r\n\r\n.collapse-icon {\r\n  position: absolute;\r\n  bottom: 0;\r\n  padding: .5em;\r\n  \r\n  color: rgba(255, 255, 255, 0.7);\r\n  transition: 0.2s linear;\r\n}\r\n\r\n.rotate-180 {\r\n  transform: rotate(180deg);\r\n  transition: 0.2s linear;\r\n}\r\n\r\n\r\n</style>","<script>\r\nimport { computed } from 'vue'\r\nimport { useRoute } from 'vue-router'\r\nimport { collapsed } from './state'\r\n\r\nexport default {\r\n  props: {\r\n    to: { type: String, required: true },\r\n    icon: { type: String, required: true }\r\n  },\r\n  setup(props) {\r\n    const route = useRoute()\r\n    const isActive = computed(() => route.path === props.to)\r\n    return { isActive, collapsed }\r\n  }\r\n}\r\n</script>\r\n\r\n<template>\r\n  <router-link :to=\"to\" class=\"link\" :class=\"{ active: isActive }\">\r\n    <i class=\"icon\" :class=\"icon\"  />\r\n    <transition name=\"fade\">\r\n      <span v-if=\"!collapsed\">\r\n        <slot />\r\n      </span>\r\n    </transition>\r\n  </router-link>\r\n</template>\r\n\r\n<style scoped>\r\n.fade-enter-active,\r\n.fade-leave-active {\r\n  transition: opacity 0.1s;\r\n}\r\n\r\n.fade-enter,\r\n.fade-leave-to {\r\n  opacity: 0;\r\n}\r\n\r\n.link {\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  cursor: pointer;\r\n  position: relative;\r\n  font-weight: 400;\r\n  user-select: none;\r\n  font-size: 1rem;\r\n  margin: 0.4em 0;\r\n  padding: 1rem;\r\n  border-radius: 0.25em;\r\n  height: 1.5em;\r\n\r\n  color: white;\r\n  text-decoration: none;\r\n}\r\n\r\n.link:hover {\r\n  background-color: var(--sidebar-item-hover);\r\n}\r\n\r\n.link.active {\r\n  background-color: var(--sidebar-item-active);\r\n}\r\n\r\n\r\n.link .icon {\r\n  flex-shrink: 0;\r\n  width: 20px;  \r\n  margin-right: 1rem;\r\n  \r\n}\r\n.link .icon .ring{\r\n  animation: ring 0.5s infinite alternate;\r\n}\r\n@keyframes ring {\r\n  0% {\r\n    transform: rotate(0deg);\r\n  }\r\n  100% {\r\n    transform: rotate(15deg);\r\n  }\r\n}\r\n</style>","import { ref, computed } from 'vue'\r\n\r\nexport const collapsed = ref(false)\r\nexport const toggleSidebar = () => (collapsed.value = !collapsed.value)\r\n\r\nexport const SIDEBAR_WIDTH = 305\r\nexport const SIDEBAR_WIDTH_COLLAPSED = 70\r\nexport const sidebarWidth = computed(\r\n  () => `${collapsed.value ? SIDEBAR_WIDTH_COLLAPSED : SIDEBAR_WIDTH}px`\r\n)","import { render } from \"./SidebarLink.vue?vue&type=template&id=59d072f6&scoped=true\"\nimport script from \"./SidebarLink.vue?vue&type=script&lang=js\"\nexport * from \"./SidebarLink.vue?vue&type=script&lang=js\"\n\nimport \"./SidebarLink.vue?vue&type=style&index=0&id=59d072f6&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-59d072f6\"]])\n\nexport default __exports__","import { render } from \"./SidebarComponent.vue?vue&type=template&id=1d049ebf&scoped=true\"\nimport script from \"./SidebarComponent.vue?vue&type=script&lang=js\"\nexport * from \"./SidebarComponent.vue?vue&type=script&lang=js\"\n\nimport \"./SidebarComponent.vue?vue&type=style&index=0&id=1d049ebf&lang=css\"\nimport \"./SidebarComponent.vue?vue&type=style&index=1&id=1d049ebf&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1d049ebf\"]])\n\nexport default __exports__","const host = process.env.VUE_APP_SERVER_HOST;\r\n\r\nconst protocol = process.env.VUE_APP_BACK_PROTOCOL;\r\n\r\nconst port = protocol === \"http\" ? process.env.VUE_APP_SERVER_PORT : process.env.VUE_APP_HTTPS_PORT;\r\n\r\nexport const API_BASE_URL = `${protocol}://${host}:${port}/api/v1`;\r\n// console.log(API_BASE_URL)\r\nexport const ROOT_URL = `${protocol}://${host}:${port}`;\r\n\r\nexport const BOARD_API_URL = `${API_BASE_URL}/board`;\r\nexport const TICKET_API_URL = `${API_BASE_URL}/tickets`;\r\nexport const BRANCHES_API_URL = `${API_BASE_URL}/branches`;\r\nexport const AUTH_API_URL = `${API_BASE_URL}/auth`;\r\n// export const BOARD_API_URL = `${API_BASE_URL}/board`;","import axios from \"axios\";\r\nimport { API_BASE_URL } from \"@/utils/api\";\r\n\r\nconst token = localStorage.getItem(\"authToken\");\r\n\r\nexport const fetchUserInfo = async (id) => {\r\n  try {\r\n    // console.log(id)\r\n    const result = await axios.get(`${API_BASE_URL}/users/${id}`, {\r\n      headers: {\r\n        bearer: token,\r\n      },\r\n    });\r\n    \r\n    return result;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const update = async (id, body) => {\r\n  try {\r\n    await axios.put(`${API_BASE_URL}/users/${id}`, body, {\r\n      headers: {\r\n        bearer: token,\r\n      },\r\n    });\r\n    return true;\r\n  } catch (err) {\r\n    console.log(err);\r\n    return false;\r\n  }\r\n};\r\nexport const deleteUser = async (id, ) => {\r\n  try {\r\n    await axios.delete(`${API_BASE_URL}/users/${id}`, {\r\n      headers: {\r\n        bearer: token,\r\n      },\r\n    });\r\n    return true;\r\n  } catch (err) {\r\n    console.log(err);\r\n    return false;\r\n  }\r\n};\r\nexport const createUser = async (body ) => {\r\n  try {\r\n    await axios.post(`${API_BASE_URL}/users/`,body, {\r\n      headers: {\r\n        bearer: token,\r\n      },\r\n    });\r\n    return true;\r\n  } catch (err) {\r\n    console.log(err);\r\n    return false;\r\n  }\r\n};\r\n\r\n\r\nexport const fetchUsers = async () => {\r\n  try {\r\n    // console.log(id)\r\n    const result = await axios.get(`${API_BASE_URL}/users`, {\r\n      headers: {\r\n        bearer: token,\r\n      },\r\n    });\r\n    \r\n    return result;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\n\r\n\r\nexport const upload = async (formData, username) => {\r\n  try {\r\n    const queryParams = new URLSearchParams({ login: username }).toString();\r\n    const response = await fetch(\r\n      `${API_BASE_URL}/users/upload?${queryParams}`,\r\n      {\r\n        method: \"POST\",\r\n        headers: {\r\n          bearer: token,\r\n        },\r\n        body: formData,\r\n      }\r\n    );\r\n    return response;\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\n\r\n","import axios from \"axios\";\r\nimport { BRANCHES_API_URL } from \"@/utils/api\";\r\n\r\nexport const getBranch = async (value) => {\r\n  const url = value ? `${BRANCHES_API_URL}?type=${value}` : BRANCHES_API_URL;\r\n  const token = localStorage.getItem(\"authToken\");\r\n  try {\r\n    const result = await axios.get(url, {\r\n      headers: {\r\n        bearer: token,\r\n      },\r\n    });\r\n    //   console.log(result)\r\n    return result.data.rows;\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n","<script setup>\r\n\r\nimport { toggleSidebar, collapsed } from \"@/components/sidebar/state\";\r\nimport nonPhoto from \"@/assets/avatart.jpg\";\r\n\r\nimport { onMounted, ref, watch } from \"vue\";\r\nimport { useRoute, useRouter } from \"vue-router\";\r\nimport { useStore } from 'vuex';\r\nimport { ROOT_URL } from \"@/utils/api\";\r\nimport { fetchUserInfo } from \"@/utils/user\";\r\nimport { getBranch } from \"@/utils/branches\";\r\n// import { generatePdf } from '@/utils/pdfUtils.js';\r\n\r\nconst router = useRouter();\r\nconst route = useRoute();\r\nconst store = useStore(); // Use the store\r\n\r\nconst username = ref(null);\r\nconst image = ref('');\r\n\r\n\r\nconst branches = ref(null);\r\nconst childBranches = ref(0);\r\nconst selectedBranch = ref(0);\r\n\r\nconst OnLogOut = () => {\r\n  store.dispatch('logout'); // Dispatch the logout action\r\n  router.push(\"/login\");\r\n  console.log(\"log out\")\r\n  // localStorage.removeItem(\"image\")\r\n}\r\n\r\nconst getImage = async () => {\r\n  try {\r\n    const id = localStorage.getItem(\"id\")*1\r\n    const result = await fetchUserInfo(id);\r\n    if (!result) {\r\n      return;\r\n    }\r\n    \r\n    if (result.data.user[0].image) {\r\n      console.log(result.data.user[0].image);\r\n      const imgSrc = `${ROOT_URL}/images/` + result.data.user[0].image;\r\n      localStorage.setItem(\"image\", imgSrc);\r\n      image.value = imgSrc;\r\n    }\r\n    else\r\n      image.value = nonPhoto;\r\n  } catch (err) {\r\n    image.value = nonPhoto;\r\n    console.log(err);\r\n  }\r\n\r\n\r\n}\r\nconst downloadPdf = async () => {\r\n  // try {\r\n  //   const htmlContent = document.documentElement.outerHTML; // Get HTML content of the entire page\r\n  //   await generatePdf(htmlContent, 'page1.pdf');\r\n  //   // Repeat the above steps for other pages as needed\r\n  // } catch (error) {\r\n  //   console.error('Error generating PDF:', error);\r\n  // }\r\n  window.print()\r\n}\r\n\r\nconst getBranches = async () => {\r\n  const result = await getBranch();\r\n  // console.log(result);\r\n  if (result)\r\n    branches.value = result;\r\n};\r\nconst filter = async () => {\r\n  const currentQueryParams = { ...route.query };\r\n  // console.log(\"Selected\", selectedBranch.value);\r\n  // console.log(\"ChildBranches\", childBranches.value)\r\n\r\n\r\n  currentQueryParams.branch_id = selectedBranch.value;\r\n\r\n  currentQueryParams.parent_branch = childBranches.value.F_ID * 1;\r\n  router.push({ path: route.path, query: currentQueryParams });\r\n\r\n\r\n\r\n  // Add or update query parameters\r\n\r\n\r\n\r\n}\r\nconst reset = () => {\r\n  console.log(typeof childBranches.value)\r\n  if (childBranches.value == 0) {\r\n    // console.log(\"RESET\")\r\n    selectedBranch.value = 0;\r\n    router.push({ ...router.currentRoute.value, query: {} });\r\n  }\r\n\r\n};\r\nwatch(() => localStorage.getItem(\"image\"), (oldValue, newValue) => {\r\n  image.value = newValue;\r\n});\r\n\r\n// onUpdated(() => {\r\n//   router.push({ ...router.currentRoute.value, query: {} });\r\n// })\r\n\r\nonMounted(() => {\r\n  // username.value = store.getters.username;\r\n  username.value = localStorage.getItem(\"login\")\r\n  getImage();\r\n  getBranches();\r\n});\r\n</script>\r\n\r\n\r\n<template>\r\n  <div class=\"header-container flex justify-between items-center\">\r\n    <div @click=\"toggleSidebar\" :class=\"{ 'rotate-180': collapsed }\" class=\"toggleIcon p-4\">\r\n      <i class=\"fas fa-angle-double-left\" />\r\n    </div>\r\n    <div class=\"headerInfo flex items-center\">\r\n      <!-- <div class=\"icons flex\">\r\n        <div class=\"bell\">\r\n          <div class=\"bell-amount\">123</div>\r\n          <i class=\"far fa-bell fa-lg\"></i>\r\n        </div>\r\n        <div class=\"envelope\">\r\n          <div class=\"envelope-amount\">123</div>\r\n          <i class=\"far fa-envelope fa-lg\"></i>\r\n        </div>\r\n      </div> -->\r\n      <div class=\"dropdown\">\r\n        <v-btn class=\"btn   dropdown-toggle\" type=\"button\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\r\n          Фильтр\r\n        </v-btn>\r\n        <ul class=\"dropdown-menu w-full\">\r\n          <div class=\"inputBlock \">\r\n            <select class=\"form-select\" v-model=\"childBranches\" @change=\"reset()\">\r\n              <option selected value=\"0\">Выберите филиал</option>\r\n              <!-- <option value=\"0\">Все</option> -->\r\n              <option v-for=\"br in branches\" :key=\"br.id\" :value=\"br\">\r\n                {{ br.F_NAME }}\r\n              </option>\r\n            </select>\r\n\r\n            <select :disabled=\"!childBranches\" class=\"form-select\" v-model=\"selectedBranch\" @change=\"filter()\">\r\n              <option selected disabled value=\"0\">Выберите отделение</option>\r\n              <option v-for=\"child in childBranches.children\" :key=\"child.F_ID\" :value=\"child.F_ID\">\r\n                {{ child.F_NAME }}\r\n              </option>\r\n            </select>\r\n          </div>\r\n        </ul>\r\n      </div>\r\n      <div @click=\"downloadPdf()\" class=\"dowloadPage cursor-pointer\">\r\n        <i class=\"fas fa-file-download fa-2xl\"></i>\r\n      </div>\r\n      <div class=\"userInfo \">\r\n        <div class=\"dropdown \">\r\n\r\n          <button class=\"btn  dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton1\" data-bs-toggle=\"dropdown\"\r\n            aria-expanded=\"false\">\r\n\r\n            <img :src=\"image\" alt=\"\" class=\"rounded-full\" />\r\n            {{ username }}\r\n          </button>\r\n          <ul class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton1\">\r\n            <li><router-link to=\"/profile\" class=\"dropdown-item\" href=\"#\">Мой профиль</router-link></li>\r\n            <li><a @click=\"OnLogOut()\" class=\"dropdown-item\" href=\"#\">Выход</a></li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n.rotate-180 {\r\n  transform: rotate(180deg);\r\n  transition: 0.2s linear;\r\n}\r\n\r\n.dropdown-menu.show {\r\n  width: 250px;\r\n  transform: translate(0px, 50px) !important;\r\n}\r\n\r\n.header-container {\r\n  width: 100%;\r\n\r\n  background-color: rgb(232, 238, 238);\r\n\r\n  .toggleIcon {\r\n    cursor: pointer;\r\n  }\r\n\r\n  .headerInfo {\r\n    .userInfo {\r\n\r\n      .dropdown {\r\n\r\n        button {\r\n\r\n          display: flex;\r\n          justify-content: center;\r\n          align-items: center;\r\n\r\n          img {\r\n            margin: 0 0.5rem;\r\n            width: 40px;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    font: 50px;\r\n\r\n    div {\r\n      position: relative;\r\n      margin: 0 .5rem 0 .5rem;\r\n\r\n      .bell-amount {\r\n        position: absolute;\r\n        top: -50%;\r\n        left: -20%;\r\n\r\n        font-size: 12px;\r\n        font-weight: 700;\r\n        color: red;\r\n      }\r\n\r\n      .envelope-amount {\r\n        position: absolute;\r\n        top: -50%;\r\n        left: -20%;\r\n\r\n        font-size: 12px;\r\n        font-weight: 700;\r\n        color: red;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import script from \"./HeaderComponent.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./HeaderComponent.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./HeaderComponent.vue?vue&type=style&index=0&id=3746b211&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3746b211\"]])\n\nexport default __exports__","<script setup>\r\nimport { defineProps, ref } from \"vue\";\r\n// import ChartComponent from \"./modal/ChartComponent.vue\";\r\n\r\n// import { sidebarWidth } from \"@/components/sidebar/state\";\r\nconst props = defineProps({\r\n  info: {\r\n    type:Object,\r\n    required:true\r\n  },\r\n \r\n});\r\n\r\nconst showModal = ref(false);\r\n// const toggle = () => {\r\n//   showModal.value = !showModal.value;\r\n// };\r\n// console.log(props.info.modalWidth)\r\n</script>\r\n\r\n<template>\r\n  <div class=\"block-container\" :style=\"{ backgroundColor: info.color }\">\r\n    <div v-if=\"showModal\" class=\"modalBlack\"></div>\r\n    <div class=\"box flex\">\r\n      <div class=\"iconbox\">\r\n        <div class=\"icon\">\r\n          <i :class=\"props.info.icon\"></i>\r\n        </div>\r\n        <button class=\"btn button text-white font-sans\">\r\n          <router-link :to=\"props.info.link\" variant=\"outlined\">\r\n            <i class=\"fas fa-external-link-alt fa-2xl\"></i>\r\n          </router-link>\r\n        </button>\r\n      </div>\r\n\r\n      \r\n        <div class=\"text text-white font-sans\">\r\n          <div class=\"amount text-white flex justify-center items-center\">\r\n            <h1>{{ props.info.number }}</h1>\r\n          </div>\r\n          <div class=\"textBlock  flex justify-center items-center\">\r\n            {{ props.info.text }}\r\n          </div>\r\n          \r\n        \r\n      </div>\r\n    </div>\r\n  </div>\r\n  <!-- <div v-if=\"showModal\" class=\"chart\" >\r\n    <div class=\"close\" @click=\"toggle()\"><i class=\"fas fa-times\"></i></div>\r\n    <div class=\"header\">\r\n      <div class=\"title\">{{props.title}}</div>\r\n    </div>\r\n     <ChartComponent\r\n      v-model:modelValue=\"showModal\"\r\n      :chartOptions=\"props.chart\"\r\n     /> \r\n     <component :is=\"dynamicComponent\" :chartOptions=\"props.chart\" />\r\n  </div> -->\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\na{\r\n  color: white;\r\n}\r\n.block-container {\r\n  \r\n  padding: 0.5rem auto;\r\n  border-radius: 1rem;\r\n  box-shadow: 5px 8px 5px 0px rgba(0, 0, 0, 0.5);\r\n  \r\n  .box {\r\n    .iconbox {\r\n      \r\n      border-right: 1px solid rgb(255, 255, 255);\r\n      .icon{\r\n        padding: .5rem;\r\n        border-bottom: 2px solid rgb(255, 255, 255);\r\n      }\r\n      .button{\r\n        padding: .5rem;\r\n      }\r\n    }\r\n  }\r\n  .modalBlack {\r\n    position: absolute;\r\n    overflow: hidden;\r\n    left: 0;\r\n    top: 0;\r\n    width: 100vw;\r\n    height: 100vh;\r\n    z-index: 997;\r\n    background-color: rgba(0, 0, 0, 0.531);\r\n  }\r\n  .icon {\r\n    width: 100%;\r\n    font-size: 50px;\r\n    font-weight: bold;\r\n    color: white;\r\n  }\r\n  .amount {\r\n    width: 100%;\r\n    height: 50%;\r\n    font-size: 30px;\r\n    font-weight: bold;\r\n\r\n  }\r\n  .text {\r\n    width: 100%;\r\n    height: 100%;\r\n    padding: .5rem;\r\n    .textBlock{\r\n      width: 100%;\r\n      height: 50%;\r\n    }\r\n   \r\n  }\r\n}\r\n.chart {\r\n  position: absolute;\r\n  z-index: 999;\r\n  top: 10%;\r\n  left: 30%;\r\n  width: 50vw;\r\n  background-color: white;\r\n  overflow: hidden;\r\n  padding: 1rem 2rem;\r\n  border-left: 1px solid rgb(0, 0, 0);\r\n  border-top: 1px solid black;\r\n  box-shadow: 5px 8px 5px 0px rgba(0, 0, 0, 0.5);\r\n  .close {\r\n    font-size: 24px;\r\n    float: right;\r\n    cursor: pointer;\r\n  }\r\n  .header {\r\n    padding: 1rem;\r\n  }\r\n  \r\n}\r\n</style>\r\n","import script from \"./BlockElement.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./BlockElement.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./BlockElement.vue?vue&type=style&index=0&id=47b9404a&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-47b9404a\"]])\n\nexport default __exports__","import axios from \"axios\";\r\nimport { API_BASE_URL } from \"@/utils/api\";\r\n\r\nconst token = localStorage.getItem(\"authToken\");\r\n\r\nexport const fetchAllTickets = async (branch_id) => {\r\n  const url = !branch_id ? `${API_BASE_URL}/tickets/service-tickets` : `${API_BASE_URL}/tickets/service-tickets/${branch_id}`;\r\n\r\n  try {\r\n    const result = await axios.get(url, {\r\n      headers: {\r\n        bearer: token,\r\n      },\r\n    });\r\n    // console.log(result);\r\n    return result;\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\nexport const fetchTickets = async (branch_id) => {\r\n  const url = !branch_id ? `${API_BASE_URL}/tickets/all` : `${API_BASE_URL}/tickets/all/${branch_id}`;\r\n\r\n  try {\r\n    const result = await axios.get(url, {\r\n      headers: {\r\n        bearer: token,\r\n      },\r\n    });\r\n    // console.log(result);\r\n    return result;\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nexport const fetchAnalyticData = async(branch_id) =>{\r\n    let url = branch_id ?  `${API_BASE_URL}/analytics/${branch_id}`:`${API_BASE_URL}/analytics`;\r\n\r\n  try {\r\n    const result = await axios.get(url, {\r\n      headers: {\r\n        bearer: token,\r\n      },\r\n    });\r\n    return result;\r\n}catch(err){\r\n    console.log(err);\r\n}\r\n}\r\n","import axios from \"axios\";\r\nimport { API_BASE_URL } from \"@/utils/api\";\r\nconst token = localStorage.getItem(\"authToken\");\r\n\r\nexport const fetchMap = async(branch_id)=>{\r\n    const url = branch_id ? `${API_BASE_URL}/tickets/map/${branch_id}` : `${API_BASE_URL}/tickets/map`;\r\n    try{\r\n        const result = await axios.get(url,\r\n            {\r\n              headers: {\r\n                bearer: token\r\n              },\r\n            }\r\n          );\r\n          return result;\r\n    }catch(err){\r\n        console.log(err);\r\n    }\r\n}","<script setup>\r\n// import { ref } from \"vue\";\r\n// @ is an alias to /src\r\n\r\nimport BlockElement from \"@/components/blocks/dashboard/top/BlockElement.vue\";\r\nimport {  fetchTickets } from \"@/utils/dashboard\";\r\nimport { fetchMap } from \"@/utils/main\";\r\n\r\n\r\n\r\nimport { onMounted, ref, watch } from \"vue\";\r\nimport { useRoute } from \"vue-router\";\r\n\r\nconst route = useRoute();\r\n\r\n\r\n\r\n// const router = useRouter();\r\n\r\nconst serverInfo = ref({\r\n  color: \"#130950\",\r\n  icon: \"fas fa-server\",\r\n  text: \"Количество неработающих УГД\",\r\n  number: 11,\r\n  link: \"/server\",\r\n});\r\n\r\nconst maxWaitTime = ref({\r\n  color: \"#F38E1B\",\r\n  icon: \"fas fa-clock\",\r\n  text: \"Максимальное время ожидания\",\r\n  number: 41,\r\n  link: \"/time-dash\",\r\n});\r\nconst maxServTime = ref({\r\n  color: \"#6C1895\",\r\n  icon: \"fas fa-people-arrows\",\r\n  text: \"Максимальное время обслуживания\",\r\n  number: 12,\r\n  link: \"/time-dash\",\r\n});\r\n\r\nconst fetchData = async () => {\r\n  \r\n  try {\r\n    const result = await fetchMap();\r\n    // console.log(result.data.data.server_list);\r\n    let offline = 0;\r\n    let total = 0;\r\n    const servers = result.data.data.server_list;\r\n    servers.map(server => {\r\n      server.children.map(child => {\r\n        if (child.ONN === 0) {\r\n          offline++;\r\n        }\r\n        total++;\r\n      })\r\n    })\r\n\r\n    serverInfo.value.number = offline;\r\n    const ratio = (offline / total).toFixed(2);\r\n    console.log(ratio)\r\n    if (ratio >= 0.3) {\r\n      serverInfo.value.color = \"red\";\r\n    }\r\n\r\n\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n\r\n\r\n};\r\n\r\nconst getValues = async () => {\r\n  \r\n  try {\r\n    const result = await fetchTickets();\r\n    // console.log(result.data.data.alarm.data[1].count)\r\n   \r\n    maxWaitTime.value.number = result.data.data.alarm.data[1].count ?? 0;\r\n    maxServTime.value.number = result.data.data.alarm.data[0].count ?? 0;\r\n\r\n  } catch (err) {\r\n    console.log(\"The error in dashboard\")\r\n    // alert(\"Нет билетов\")\r\n    // router.push({ path: \"/login\", });\r\n    if (err.response && err.response.status === 401) {\r\n      // Handle 401 Unauthorized error here\r\n      console.log(\"Unauthorized. Please login again.\");\r\n\r\n    } else {\r\n      // Handle other errors\r\n      console.log(err);\r\n    }\r\n  }\r\n\r\n}\r\n\r\nwatch(() => route.query, () => {\r\n  getValues();\r\n  fetchData();\r\n});\r\n\r\n\r\n\r\nonMounted(() => {\r\n  fetchData();\r\n  getValues();\r\n});\r\n\r\n\r\n</script>\r\n<template>\r\n  <div class=\"mainBlocks flex justify-around\">\r\n    <div class=\"serverInfo block w-64\">\r\n      <BlockElement :info=\"serverInfo\" />\r\n    </div>\r\n    <!-- <div class=\"markInfo block w-64\">\r\n      <BlockElement :info=\"rateInfo\" />\r\n    </div>\r\n    <div class=\"markInfo block w-64\">\r\n      <BlockElement :info=\"badRate\" />\r\n    </div> -->\r\n    <div class=\"markInfo block w-64\">\r\n      <BlockElement :info=\"maxWaitTime\" />\r\n    </div>\r\n    <div class=\"markInfo block w-64\">\r\n      <BlockElement :info=\"maxServTime\" />\r\n    </div>\r\n  </div>\r\n</template>","import script from \"./DashboardTop.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./DashboardTop.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=4b0e0799\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=4b0e0799&lang=scss\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import axios from \"axios\";\r\nimport { API_BASE_URL } from \"@/utils/api\";\r\n\r\nconst token = localStorage.getItem(\"authToken\");\r\n\r\nexport const fetchTicketListByBranchId = async (branch) => {\r\n  let list = [];\r\n  try {\r\n    list = await axios.get(`${API_BASE_URL}/tickets/list/${branch.branchId}`, {\r\n      headers: {\r\n        bearer: token,\r\n      },\r\n    });\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n  return list.data.data.tickets;\r\n};\r\n\r\nexport const fetchBranchTickets = async () => {\r\n  try {\r\n    const result = await axios.get(`${API_BASE_URL}/tickets/branch-tickets`, {\r\n      headers: {\r\n        bearer: token,\r\n      },\r\n    });\r\n    return result;\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nexport const fetchTicketList = async () => {\r\n  try {\r\n    const result = await axios.get(`${API_BASE_URL}/tickets/list`, {\r\n      headers: {\r\n        bearer: token,\r\n      },\r\n    });\r\n    return result;\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n","<script setup>\r\nimport { onMounted, ref, computed, watch } from \"vue\";\r\n\r\nimport { useRoute } from \"vue-router\";\r\n\r\nimport { fetchBranchTickets, fetchTicketList, fetchTicketListByBranchId } from \"@/utils/dashboardAmount\";\r\n\r\nconst route = useRoute();\r\n\r\n\r\n\r\nconst totalTickets = ref(0);\r\n\r\nconst isChild = ref(false);\r\n\r\nconst search = ref(\"\");\r\nconst headers = [\r\n  {\r\n    align: \"center\",\r\n    key: \"iin\",\r\n    sortable: false,\r\n    title: \"ИИН\",\r\n  },\r\n  { align: \"center\", key: \"ticketno\", title: \"Номер билета\" },\r\n  { align: \"center\", key: \"servicename\", title: \"Название услуги\" },\r\n  { align: \"center\", key: \"idbranch\", title: \"Отделение\" },\r\n  { align: \"center\", key: \"operator\", title: \"Оператор\" },\r\n  { align: \"center\", key: \"state\", title: \"Статус\" },\r\n  { align: \"center\", key: \"starttime\", title: \"Время регистрации\" },\r\n  // { key: \"waittime\", title: \"Время ожидания\" },\r\n  { align: \"center\", key: \"startservtime\", title: \"Время обслуживания\" },\r\n  { align: \"center\", key: \"rating\", title: \"Оценка\" },\r\n  { align: \"center\", key: \"waitover\", title: \"Превышение времени ожидания\" },\r\n  { align: \"center\", key: \"servover\", title: \"Превышение времени обслуживания\" },\r\n];\r\nconst desserts = ref([]);\r\nconst parentList = ref([]);\r\n\r\nconst branchTickets = ref([]);\r\nconst series = ref([]);\r\nconst categories = ref([]);\r\n\r\nconst chartOptions = ref({\r\n  chart: {\r\n    type: \"bar\",\r\n    height: 350,\r\n    stacked: true,\r\n    toolbar: {\r\n      show: true,\r\n    },\r\n    zoom: {\r\n      enabled: true,\r\n    },\r\n    events: {\r\n      legendClick: function (chartContext, seriesIndex, config) {\r\n        console.log(chartContext, seriesIndex, config);\r\n      },\r\n    },\r\n    // events: {\r\n    //   dataPointSelection: function(event, chartContext, config) {\r\n    //     console.log(event,chartContext,config)\r\n    //   },\r\n    //   legendClick: function(chartContext, seriesIndex, config) {\r\n    //     console.log(seriesIndex,chartContext,config)\r\n    //   }\r\n    // },\r\n  },\r\n\r\n  colors: [\"#2ecc71\", \"#3498db\", \"#f39c12\", \"#d35400\", \"#c0392b\"],\r\n  responsive: [\r\n    {\r\n      breakpoint: 480,\r\n      options: {\r\n        legend: {\r\n          position: \"top\",\r\n          offsetX: -10,\r\n          horizontalAlign: 'center', // Align legend items horizontally at the center\r\n          offsetY: -10,\r\n        },\r\n      },\r\n    },\r\n  ],\r\n  plotOptions: {\r\n    bar: {\r\n      horizontal: false,\r\n      borderRadius: 10,\r\n      dataLabels: {\r\n        total: {\r\n          enabled: true,\r\n          style: {\r\n            fontSize: \"13px\",\r\n            fontWeight: 900,\r\n          },\r\n        },\r\n      },\r\n    },\r\n  },\r\n  xaxis: {\r\n    type: \"string\",\r\n    categories: categories.value,\r\n    // categories: [\"<a href='/tickets'> 1991</a>\", 1992, 1993, 1994, 1995, 1996, 1997, 1998],\r\n  },\r\n  legend: {\r\n    position: \"top\",\r\n    offsetY: 0,\r\n  },\r\n  fill: {\r\n    opacity: 1,\r\n  },\r\n});\r\n\r\nconst apexChart = ref(null);\r\n\r\nconst updateChartByBranchId = async (branch) => {\r\n  try {\r\n    categories.value = branch.children.map((e) => e.branchName);\r\n\r\n    series.value = [\r\n      {\r\n        name: \"Обслуженные\",\r\n        data: branch.children.map((item) => item.stateTickets.COMPLETED),\r\n      },\r\n      {\r\n        name: \"Обслуживающиеся\",\r\n        data: branch.children.map((item) => item.stateTickets.INSERVICE),\r\n      },\r\n      {\r\n        name: \"Ожидающие\",\r\n        data: branch.children.map((item) => item.stateTickets.NEW),\r\n      },\r\n      {\r\n        name: \"Не подошедшие\",\r\n        data: branch.children.map((item) => item.stateTickets.MISSED),\r\n      },\r\n      {\r\n        name: \"Alarm\",\r\n        data: branch.children.map((item) => item.stateTickets.ALARM),\r\n      },\r\n    ];\r\n    updateChart();\r\n  } catch (err) {\r\n    console.log(err)\r\n  }\r\n\r\n};\r\n\r\nconst updateTicketByBranchId = async (branch) => {\r\n  try {\r\n    desserts.value = await fetchTicketListByBranchId(branch);\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\n\r\n\r\nconst handleBarClick = async (event, chartContext, config) => {\r\n  const point = config.dataPointIndex;\r\n  const branch = branchTickets.value[point];\r\n  try {\r\n    if (branch.children && !isChild.value) {\r\n      updateChartByBranchId(branch);\r\n      isChild.value = true;\r\n      updateTicketByBranchId(branch);\r\n    }\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n  // console.log(branch);\r\n\r\n\r\n  // Add your custom logic here for handling bar clicks\r\n};\r\n\r\nconst updateChart = () => {\r\n  apexChart.value.updateOptions({\r\n    xaxis: {\r\n      categories: categories.value,\r\n    },\r\n    series: [\r\n      {\r\n        data: series.value,\r\n      },\r\n    ],\r\n  });\r\n};\r\nconst backChart = () => {\r\n  try {\r\n    categories.value = branchTickets.value.map((e) => e.branchName);\r\n    series.value = [\r\n      {\r\n        name: \"Обслуженные\",\r\n        data: branchTickets.value.map((item) => item.stateTickets.COMPLETED),\r\n      },\r\n      {\r\n        name: \"Обслуживающиеся\",\r\n        data: branchTickets.value.map((item) => item.stateTickets.INSERVICE),\r\n      },\r\n      {\r\n        name: \"Ожидающие\",\r\n        data: branchTickets.value.map((item) => item.stateTickets.NEW),\r\n      },\r\n      {\r\n        name: \"Не подошедшие\",\r\n        data: branchTickets.value.map((item) => item.stateTickets.MISSED),\r\n      },\r\n      {\r\n        name: \"Alarm\",\r\n        data: branchTickets.value.map((item) => item.stateTickets.ALARM),\r\n      },\r\n    ];\r\n    isChild.value = false;\r\n    updateChart();\r\n    desserts.value = parentList.value;\r\n    if (route.query.branch_id) {\r\n      const newUrl = window.location.protocol + '//' + window.location.host + window.location.pathname;\r\n      history.replaceState({}, document.title, newUrl);\r\n    }\r\n  } catch (err) {\r\n    alert(err);\r\n  }\r\n};\r\n\r\nconst getBranchTickets = async () => {\r\n  try {\r\n    \r\n    const result = await fetchBranchTickets();\r\n    branchTickets.value = result.data.data;\r\n    totalTickets.value = result.data.count;\r\n\r\n    if (route.query.parent_branch) {\r\n      // console.log(\"route\", route.query.branch_id);\r\n      // console.log(branchTickets.value);\r\n      const propBranch = branchTickets.value.find(e => e.branchId === route.query.parent_branch);\r\n      // console.log(propBranch);\r\n      updateChartByBranchId(propBranch);\r\n      updateTicketByBranchId(propBranch);\r\n      isChild.value = true;\r\n    }\r\n    else\r\n      backChart();\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nconst getTicketList = async () => {\r\n  try {\r\n    const result = await fetchTicketList();\r\n    // console.log(result.data.data.tickets);\r\n    parentList.value = result.data.data.tickets;\r\n    desserts.value = result.data.data.tickets;\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n  // console.log(desserts);\r\n};\r\n\r\nconst formattedDesserts = computed(() => {\r\n  return desserts.value.map(ticket => {\r\n    return {\r\n      ...ticket,\r\n      starttime: new Date(ticket.starttime).toLocaleString(\"ru-RU\"),\r\n      startservtime: new Date(ticket.startservtime).toLocaleString(\"ru-RU\"),\r\n      rating: ticket.rating === \"5\" ? \"Отлично\" : ticket.rating === \"4\" ? \"Хорошо\" : ticket.rating === \"4\" ? \"Плохо\" : \"Нет оценки\",\r\n      waitover: ticket.waitover === \"true\" ? \"Да\" : \"Нет\",\r\n      servover: ticket.servover === \"true\" ? \"Да\" : \"Нет\",\r\n      state: ticket.state === \"COMPLETED\" ? \"Обслужен\" : ticket.state === \"NEW\" ? \"Новый\" : ticket.state === \"INSERVICE\" ? \"Обслуживается\" : \"Бронь\",\r\n      idbranch: ticket.idbranch\r\n    }\r\n  }).sort((a, b) => {\r\n    return a.starttime - b.starttime;\r\n  });\r\n});\r\n\r\nwatch(() => route.query, () => {\r\n  getBranchTickets();\r\n});\r\n\r\nonMounted(() => {\r\n  getBranchTickets();\r\n  getTicketList();\r\n  // console.log(route.query.branch_id);\r\n  // if(route.query.branch_id){\r\n  //   updateByProps(route.query.branch_id);\r\n  // }\r\n\r\n  // console.log(apexChart.value)\r\n});\r\n</script>\r\n\r\n\r\n<template>\r\n  <div class=\"amount-container\">\r\n\r\n    <h3>{{ totalTickets }}</h3>\r\n    <div class=\"chartBlock\">\r\n\r\n      <v-btn @click=\"backChart()\" v-if=\"isChild\" class=\"back m-4\"><i class=\"fas fa-arrow-left fa-2xl\"></i></v-btn>\r\n      <div class=\"chart p-4\">\r\n        <apexchart ref=\"apexChart\" height=\"500\" :options=\"chartOptions\" :series=\"series\"\r\n          @dataPointSelection=\"handleBarClick\"></apexchart>\r\n      </div>\r\n\r\n    </div>\r\n    <div class=\"tickets\">\r\n      <v-card title=\"Билеты\" flat>\r\n        <!-- <template v-slot:text>\r\n          <v-text-field\r\n            v-model=\"search\"\r\n            label=\"Search\"\r\n            prepend-inner-icon=\"mdi-magnify\"\r\n            variant=\"outlined\"\r\n            hide-details\r\n            single-line\r\n          ></v-text-field>\r\n        </template> -->\r\n\r\n        <v-data-table :headers=\"headers\" :items=\"formattedDesserts\" :search=\"search\" no-data-text=\"Нет доступых билетов\"\r\n          items-per-page-text=\"Билетов на странице\"></v-data-table>\r\n      </v-card>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n.chartBlock {\r\n  width: 100%;\r\n\r\n  .back {\r\n    border-radius: 1rem;\r\n  }\r\n}\r\n\r\n/*\r\n.apexcharts-legend {\r\n  position: absolute!important;\r\n  top: 100px!important; /* Adjust this value to move the legend higher \r\n  left: 50%!important;\r\n  transform: translateX(-50%)!important;\r\n}\r\n*/\r\n</style>\r\n","import script from \"./DashboardAmountView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./DashboardAmountView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./DashboardAmountView.vue?vue&type=style&index=0&id=2adce98b&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2adce98b\"]])\n\nexport default __exports__","<script setup>\r\n\r\nimport { onMounted, ref, watch } from \"vue\";\r\nimport { useRoute } from \"vue-router\";\r\nimport { fetchAllTickets, fetchAnalyticData } from \"@/utils/dashboard\";\r\n\r\nconst route = useRoute();\r\n\r\nconst peakChart = ref(null);\r\nconst avgChart = ref(null);\r\nconst serviceChart = ref(null);\r\n\r\n\r\n\r\n// const pickHours = ref({\r\n//   options: {\r\n//     chart: {\r\n//       height: 350,\r\n//       type: \"area\",\r\n//       zoom: {\r\n//         enabled: true,\r\n//       },\r\n//       toolbar: {\r\n//         show: true,\r\n//         tools: {\r\n//           download: true,\r\n//           selection: true,\r\n//           zoom: true,\r\n//           zoomin: true,\r\n//           zoomout: true,\r\n//           pan: true,\r\n//           reset: true,\r\n//         }\r\n//       }\r\n\r\n//     },\r\n//     dataLabels: {\r\n//       enabled: false,\r\n//     },\r\n//     stroke: {\r\n//       curve: \"straight\",\r\n//     },\r\n//     markers: {\r\n//       size: 6,\r\n//       hover: {\r\n//         size: 8,\r\n//       },\r\n//     },\r\n//     title: {\r\n//       text: \"\",\r\n//       align: \"left\",\r\n//     },\r\n//     grid: {\r\n//       row: {\r\n//         colors: [\"#f3f3f3\", \"transparent\"],\r\n//         opacity: 0.5,\r\n//       },\r\n//     },\r\n\r\n//     yaxis: [\r\n//       {\r\n//         axisTicks: {\r\n//           show: true,\r\n//         },\r\n//         axisBorder: {\r\n//           show: true,\r\n//           color: \"#FF5733\",\r\n//         },\r\n//         labels: {\r\n//           style: {\r\n//             colors: \"#FF5733\",\r\n//           },\r\n//         },\r\n//         title: {\r\n//           text: \"Количество билетов\",\r\n//           style: {\r\n//             color: \"#FF5733\",\r\n//           },\r\n//         },\r\n//       },\r\n//     ],\r\n//     xaxis: {\r\n//       type: \"datetime\",\r\n//       categories: [\r\n//         \"2018-09-19T00:00:00.000Z\",\r\n//         \"2018-09-19T01:30:00.000Z\",\r\n//         \"2018-09-19T02:30:00.000Z\",\r\n//         \"2018-09-19T03:30:00.000Z\",\r\n//         \"2018-09-19T04:30:00.000Z\",\r\n//         \"2018-09-19T05:30:00.000Z\",\r\n//         \"2018-09-19T06:30:00.000Z\",\r\n//       ],\r\n//     },\r\n//     tooltip: {\r\n//       x: {\r\n//         format: \"dd/MM/yy HH:mm\",\r\n//       },\r\n//     },\r\n//   },\r\n//   series: [\r\n//     {\r\n//       name: \"series1\",\r\n//       data: [31, 40, 28, 51, 42, 109, 100],\r\n//     },\r\n//   ],\r\n// });\r\n\r\nconst pickHours = ref({\r\n  options: {\r\n    chart: {\r\n      height: 350,\r\n      type: \"area\",\r\n      zoom: {\r\n        enabled: true,\r\n      },\r\n    },\r\n    dataLabels: {\r\n      enabled: false,\r\n    },\r\n    stroke: {\r\n      curve: \"straight\",\r\n    },\r\n    markers: {\r\n      size: 6,\r\n      hover: {\r\n        size: 8,\r\n      },\r\n    },\r\n    title: {\r\n      text: \"\",\r\n      align: \"left\",\r\n    },\r\n    grid: {\r\n      row: {\r\n        colors: [\"#f3f3f3\", \"transparent\"],\r\n        opacity: 0.5,\r\n      },\r\n    },\r\n    xaxis: {\r\n      type: \"category\",\r\n      // categories: [\"8:40\", \"9:00\", \"9:20\", \"9:40\", \"10:00\"],\r\n    },\r\n    yaxis: [\r\n      {\r\n        axisTicks: {\r\n          show: true,\r\n        },\r\n        axisBorder: {\r\n          show: true,\r\n          color: \"#FF5733\",\r\n        },\r\n        labels: {\r\n          style: {\r\n            colors: \"#FF5733\",\r\n          },\r\n        },\r\n        title: {\r\n          text: \"Среднее время обслуживания и ожидания\",\r\n          style: {\r\n            color: \"#FF5733\",\r\n          },\r\n        },\r\n      },\r\n    ],\r\n\r\n  },\r\n  series: [\r\n    {\r\n      name: \"series1\",\r\n      data: [31, 40, 28, 51, 42, 109, 100],\r\n    },\r\n    {\r\n      name: \"series2\",\r\n      data: [11, 32, 45, 32, 34, 52, 41],\r\n    },\r\n  ],\r\n});\r\n\r\nconst avg = ref({\r\n  options: {\r\n    chart: {\r\n      height: 350,\r\n      type: \"area\",\r\n      zoom: {\r\n        enabled: true,\r\n      },\r\n    },\r\n    dataLabels: {\r\n      enabled: false,\r\n    },\r\n    stroke: {\r\n      curve: \"straight\",\r\n    },\r\n    markers: {\r\n      size: 6,\r\n      hover: {\r\n        size: 8,\r\n      },\r\n    },\r\n    title: {\r\n      text: \"\",\r\n      align: \"left\",\r\n    },\r\n    grid: {\r\n      row: {\r\n        colors: [\"#f3f3f3\", \"transparent\"],\r\n        opacity: 0.5,\r\n      },\r\n    },\r\n    xaxis: {\r\n      type: \"category\",\r\n      // categories: [\"8:40\", \"9:00\", \"9:20\", \"9:40\", \"10:00\"],\r\n    },\r\n    yaxis: [\r\n      {\r\n        axisTicks: {\r\n          show: true,\r\n        },\r\n        axisBorder: {\r\n          show: true,\r\n          color: \"#FF5733\",\r\n        },\r\n        labels: {\r\n          style: {\r\n            colors: \"#FF5733\",\r\n          },\r\n        },\r\n        title: {\r\n          text: \"Среднее время обслуживания и ожидания\",\r\n          style: {\r\n            color: \"#FF5733\",\r\n          },\r\n        },\r\n      },\r\n    ],\r\n\r\n  },\r\n  series: [\r\n    {\r\n      name: \"series1\",\r\n      data: [31, 40, 28, 51, 42, 109, 100],\r\n    },\r\n    {\r\n      name: \"series2\",\r\n      data: [11, 32, 45, 32, 34, 52, 41],\r\n    },\r\n  ],\r\n});\r\n\r\n\r\nconst service = ref({\r\n  options: {\r\n    chart: {\r\n      width: 380,\r\n      type: \"pie\",\r\n    },\r\n    labels: [\"Team A\", \"Team B\", \"Team C\", \"Team D\", \"Team E\"],\r\n    pie: {\r\n      expandOnClick: true,\r\n    },\r\n    yaxis: {\r\n      show: false,\r\n    },\r\n    title: {\r\n      // text: totalSum,\r\n      align: \"center\",\r\n      offsetX: 0,\r\n      offsetY: 85,\r\n      floating: true,\r\n      style: {\r\n        fontSize: \"28px\",\r\n        fontWeight: \"bold\",\r\n        color: \"#263238\",\r\n      },\r\n    },\r\n    responsive: [\r\n      {\r\n        breakpoint: undefined,\r\n        options: {\r\n          chart: {\r\n            offsetY: 0,\r\n          },\r\n        },\r\n      },\r\n    ],\r\n  },\r\n  series: [44, 55, 13, 43, 22],\r\n});\r\n\r\nconst fetchDognutData = async () => {\r\n  try {\r\n    const result = await fetchAllTickets(route.query.branch_id);\r\n    // const ratingTickets = result.data.data.rating;\r\n    // console.log(ratingTickets)\r\n    // let branchRating = ratingTickets.map((item) => item.tickets);\r\n    // let allRatingTickets = branchRating.map((item) => item.PERFECT + item.BAD);\r\n\r\n    // // Создаем массив объектов с именами и значениями\r\n    // let ratingWithNames = ratingTickets.map((item, index) => ({\r\n    //   name: item.name,\r\n    //   value: allRatingTickets[index],\r\n    // }));\r\n\r\n    // // Сортируем массив объектов по убыванию значения\r\n    // let sortedRating = ratingWithNames.sort((a, b) => b.value - a.value);\r\n\r\n    // // Выбираем верхние 5 элементов\r\n    // let top5Rating = sortedRating.slice(0, 5);\r\n\r\n    // // Задаем значения progress bar вручную\r\n    // // Задаем значения progress bar вручную\r\n    // let seriesValues = top5Rating.map((item) => item.value);\r\n\r\n    // // Сумма всех значений\r\n    // const totalValue = sortedRating.reduce((sum, item) => sum + item.value, 0);\r\n\r\n    // rateChart.value.updateOptions({\r\n    //   series: seriesValues.map((value) =>\r\n    //     ((value / totalValue) * 100).toFixed(1),\r\n    //   ),\r\n    //   chart: {\r\n    //     type: \"radialBar\",\r\n    //     size: 200,\r\n    //     height: 276,\r\n    //     offsetY: 0,\r\n    //   },\r\n    //   labels: top5Rating.map((item) => item.name),\r\n    //   colors: [\"#0d6efd\", \"#d63384\", \"#28a745\", \"#ffc107\", \"#dc3545\"],\r\n    //   plotOptions: {\r\n    //     radialBar: {\r\n    //       dataLabels: {\r\n    //         name: {\r\n    //           offsetY: 125,\r\n    //           fontSize: \"22px\",\r\n    //         },\r\n    //         value: {\r\n    //           offsetY: -10,\r\n    //           color: \"#111\",\r\n    //           fontSize: \"36px\",\r\n    //           formatter: function (val) {\r\n    //             return val + \"%\";\r\n    //           },\r\n    //         },\r\n    //         total: {\r\n    //           show: true,\r\n    //           label: \"Общее количество оценок\",\r\n    //           formatter: function () {\r\n    //             return totalValue; // или формат, который вам нужен\r\n    //           },\r\n    //         },\r\n    //       },\r\n    //     },\r\n    //   },\r\n    //   responsive: [\r\n    //     {\r\n    //       breakpoint: undefined,\r\n    //       options: {\r\n    //         chart: {\r\n    //           offsetY: 0,\r\n    //         },\r\n    //       },\r\n    //     },\r\n    //   ],\r\n    // });\r\n\r\n\r\n\r\n    const serviceTickets = result.data.data.data;\r\n    // console.log(serviceTickets)\r\n    const MAX_LABEL_LENGTH = 6;\r\n    const legend2 = serviceTickets.map((item) => {\r\n      const truncatedLabel =\r\n        item.servicename.length > MAX_LABEL_LENGTH\r\n          ? item.servicename.slice(0, MAX_LABEL_LENGTH) + \"...\"\r\n          : item.servicename;\r\n\r\n      return truncatedLabel;\r\n    });\r\n\r\n    serviceChart.value.updateOptions({\r\n      series: serviceTickets.map((item) => item.length),\r\n      chart: {\r\n        type: \"donut\",\r\n      },\r\n      labels: serviceTickets.map((item) => item.servicename),\r\n\r\n      dataLabels: {\r\n        enabled: true,\r\n      },\r\n      colors: [\r\n        \"#0d6efd\",\r\n        \"#20c997\",\r\n        \"#ffc107\",\r\n        \"#d63384\",\r\n        \"#6f42c1\",\r\n        \"#adb5bd\",\r\n      ],\r\n\r\n\r\n      legend: {\r\n        formatter: function (seriesName, opts) {\r\n          const index = opts.seriesIndex;\r\n          return [legend2[index], \" - \", opts.w.globals.series[index]];\r\n        },\r\n        position: \"top\",\r\n        horizontalAlign: \"center\",\r\n      },\r\n\r\n\r\n\r\n    })\r\n\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nconst fetchData = async () => {\r\n\r\n  try {\r\n    const result = await fetchAnalyticData(route.query.branch_id);\r\n    // console.log(result.data);\r\n    let allClientData = result.data.data.peakHours.map((item) => {\r\n      return {\r\n        x: item.time,\r\n        y: item.count,\r\n        // operators: item.operators,\r\n        long_wait: item.WAITOVER,\r\n        long_service: item.SERVOVER,\r\n        bad_grades: item.BAD,\r\n      };\r\n    });\r\n\r\n\r\n    peakChart.value.updateOptions({\r\n\r\n      xaxis: {\r\n        type: \"category\",\r\n        categories: allClientData.map((point) => point.x),\r\n        tickPlacement: 'on',\r\n\r\n      },\r\n      series: [\r\n        {\r\n          name: \"Количество билетов\",\r\n          data: allClientData,\r\n        },\r\n      ],\r\n      tooltip: {\r\n        custom: function ({ series, dataPointIndex }) {\r\n          var point = allClientData[dataPointIndex];\r\n          return `<div class=\"tooltip-container\">\r\n            <div class=\"tooltip-content\">\r\n              <span class=\"tooltip-label\">Количество билетов:</span>\r\n              <span class=\"tooltip-value\">${series[0][dataPointIndex]}</span>\r\n            </div>\r\n            <div class=\"tooltip-content\">\r\n              <span class=\"tooltip-label\">Время:</span>\r\n              <span class=\"tooltip-value\">${point.x}</span>\r\n            </div>\r\n           \r\n            <div class=\"tooltip-content\">\r\n              <span class=\"tooltip-label\">Долгое ожидание:</span>\r\n              <span class=\"tooltip-value\">${point.long_wait}</span>\r\n            </div>\r\n            <div class=\"tooltip-content\">\r\n              <span class=\"tooltip-label\">Долгое обслуживание:</span>\r\n              <span class=\"tooltip-value\">${point.long_service}</span>\r\n            </div>\r\n            <div class=\"tooltip-content\">\r\n              <span class=\"tooltip-label\">Плохие оценки:</span>\r\n              <span class=\"tooltip-value\">${point.bad_grades}</span>\r\n            </div>\r\n           \r\n          </div>`;\r\n        },\r\n      },\r\n    });\r\n\r\n    const avgServHours = result.data.data.averageServ;\r\n    const avgWaitHours = result.data.data.averageWait;\r\n    let timeChartData = avgServHours.map((item) => {\r\n      return {\r\n        x: item.time,\r\n        y: item.count,\r\n      };\r\n    });\r\n\r\n    avgChart.value.updateOptions({\r\n      series: [\r\n        {\r\n          name: \"Среднее время обслуживания\",\r\n          data: timeChartData,\r\n        },\r\n        {\r\n          name: \"Среднее время ожидания\",\r\n          data: avgWaitHours.map((item) => {\r\n            // console.log('Avg wait hours',item)\r\n            return {\r\n              x: item.time,\r\n              y: item.count,\r\n            };\r\n          }),\r\n        },\r\n      ],\r\n      tooltip: {\r\n        custom: function ({ series, dataPointIndex, w }) {\r\n          w\r\n          var point = timeChartData[dataPointIndex];\r\n          var tooltipContent = `<div class=\"tooltip-container\">\r\n        <div class=\"tooltip-content\">\r\n          <span class=\"tooltip-label\">Время:</span>\r\n          <span class=\"tooltip-value\">${point.x}</span>\r\n        </div>`;\r\n\r\n          // Check if average service time is defined\r\n          if (series[0][dataPointIndex] !== undefined) {\r\n            tooltipContent += `<div class=\"tooltip-content\">\r\n          <span class=\"tooltip-label\">Среднее время обслуживания:</span>\r\n          <span class=\"tooltip-value\">${series[0][dataPointIndex]} мин</span>\r\n        </div>`;\r\n          }\r\n\r\n          // Check if average waiting time is defined\r\n          if (series[1][dataPointIndex] !== undefined) {\r\n            tooltipContent += `<div class=\"tooltip-content\">\r\n          <span class=\"tooltip-label\">Среднее время ожидания:</span>\r\n          <span class=\"tooltip-value\">${series[1][dataPointIndex]} мин</span>\r\n        </div>`;\r\n          }\r\n\r\n          tooltipContent += `</div>`;\r\n          return tooltipContent;\r\n        },\r\n      },\r\n\r\n    });\r\n  } catch (error) {\r\n    console.error(\"Error fetching data:\", error);\r\n  }\r\n};\r\nwatch(() => route.query, () => {\r\n  fetchData();\r\n  fetchDognutData();\r\n});\r\n\r\nonMounted(() => {\r\n  fetchData();\r\n  fetchDognutData();\r\n});\r\n\r\n// Watch for changes in peakHour.value and update pickHourObject options accordingly\r\n// watch(peakHour, (newValue) => {\r\n//   pickHourObject.value.options.xaxis.categories = newValue.map((point) => point.x);\r\n//   pickHourObject.value.series[0].data = newValue;\r\n// });\r\n</script>\r\n\r\n<template>\r\n  <main>\r\n    <div class=\"mainBlock flex\">\r\n      <div class=\"leftBlock\">\r\n        <div class=\"pickHours\">\r\n          <apexchart ref=\"peakChart\" :height=\"300\" :options=\"pickHours.options\" :series=\"pickHours.series\"></apexchart>\r\n        </div>\r\n        <div class=\"avg\">\r\n          <apexchart ref=\"avgChart\" :height=\"300\" :options=\"avg.options\" :series=\"avg.series\"></apexchart>\r\n        </div>\r\n      </div>\r\n      <div class=\"rightBlock\">\r\n       \r\n        <div class=\"services\">\r\n          <apexchart ref=\"serviceChart\" :height=\"500\" :options=\"service.options\" :series=\"service.series\"></apexchart>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </main>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\nmain {}\r\n\r\n.title {\r\n  font-size: 24px;\r\n  padding: 0.5rem;\r\n}\r\n\r\n.mainBlock {\r\n  .leftBlock {\r\n    width: 70%;\r\n    height: 100%;\r\n\r\n    .pickHours {}\r\n  }\r\n\r\n  .rightBlock {\r\n    width: 30%;\r\n    display: grid;\r\n    place-items: centered;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./DashboardView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./DashboardView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./DashboardView.vue?vue&type=style&index=0&id=ae28ae48&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-ae28ae48\"]])\n\nexport default __exports__","<script setup>\r\nimport { defineProps } from \"vue\";\r\n\r\nimport worker from \"@/assets/worker.png\";\r\nimport table from \"@/assets/table.png\";\r\nimport table_transparent from \"@/assets/table_transparent.png\";\r\nimport client from \"@/assets/client.png\";\r\n\r\n// const isActive = ref(true);\r\n\r\nconst props = defineProps({\r\n\r\n  tableNumber: {\r\n    type: String,\r\n    required: true\r\n  },\r\n  operatorName: {\r\n    type: String,\r\n    required: false,\r\n  },\r\n  isActive: {\r\n    type: Boolean,\r\n    required: true,\r\n  },\r\n  inService: {\r\n    type: Boolean,\r\n    required: true,\r\n  },\r\n  clientInfo: {\r\n    type: String,\r\n    required: false,\r\n  },\r\n  isClientAlarm :{\r\n    type:Boolean,\r\n    required:false\r\n  }\r\n\r\n});\r\n\r\n//:class=\"props.isActive === true ? 'alert' : 'inactive'\"\r\n</script>\r\n\r\n<template>\r\n  <div class=\"table\">\r\n    <div v-if=\"props.isActive\" class=\"operator\">\r\n      <div class=\"operatorInfo text-sm\">{{ props.operatorName }}</div>\r\n      <img :src=\"props.isActive ? worker : 2\" alt=\"\" />\r\n    </div>\r\n    <div class=\"tableImg\">\r\n      <div class=\"tableImgInfo\" :class=\"{ 'active': props.isActive }\" :style=\"{ backgroundColor: props.isClientAlarm ? '#e02a1d': !props.isClientAlarm && props.isActive ? '#3ec72c': '#969190'  }\">\r\n        {{ props.tableNumber }}\r\n      </div>\r\n      <img :src=\"props.isActive ? table : table_transparent\" alt=\"\" />\r\n    </div>\r\n    <div v-if=\"props.inService\" class=\"client\">\r\n      <div class=\"clientInfo text-sm\">{{ props.clientInfo }}</div>\r\n      <img :src=\"inService ? client : 2\" alt=\"\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n<style lang=\"scss\" scoped>\r\n.table {\r\n  width: 25%;\r\n  height: 25%;\r\n  position: relative;\r\n  margin: 5rem auto;\r\n  \r\n  font-weight: 700;\r\n\r\n  .operator {\r\n    position: absolute;\r\n    top: 12%;\r\n    left: 30%;\r\n    width: 40%;\r\n\r\n    .operatorInfo {\r\n      width: auto;\r\n      font-size: 0.7rem;\r\n      position: absolute;\r\n      top: -50%;\r\n      left: 40%;\r\n      z-index: 999;\r\n      background-color: #ffffffc7;\r\n      padding: .3rem ;\r\n      border-radius: 1rem;\r\n    }\r\n  }\r\n\r\n  .tableImg {\r\n    position: absolute;\r\n    left: 25%;\r\n    top: 25%;\r\n    width: 40%;\r\n    z-index: 1;\r\n    .tableImgInfo .active {\r\n      animation: pulseAnimation 1.5s ease-in-out infinite alternate;\r\n      /* Apply the animation */;\r\n    }\r\n    .tableImgInfo {\r\n      \r\n\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n      position: absolute;\r\n      font-size: 1.2rem;\r\n      left: -25%;\r\n      top: -25%;\r\n      width: 40%;\r\n      height: 40%;\r\n      border-radius: 50%;\r\n      color: white;\r\n      \r\n     /* background-color: rgb(171, 171, 172);*/\r\n      &.active {\r\n        animation: pulseAnimation 1.5s ease-in-out infinite alternate;\r\n        background-color: rgba(255, 255, 255, 0.842);\r\n         background-position: center;\r\n      }\r\n    }\r\n\r\n    .alert {\r\n      color: white;\r\n      background-color: rgb(238, 32, 32) !important;\r\n      animation: pulse-animation 2s infinite;\r\n    }\r\n  }\r\n\r\n  .client {\r\n    position: absolute;\r\n    left: 20%;\r\n    top: 30%;\r\n    width: 40%;\r\n    z-index: 999;\r\n\r\n    .clientInfo {\r\n      position: absolute;\r\n      font-size: 0.7rem;\r\n      left: -50%;\r\n      top: 80%;\r\n      z-index: 999;\r\n      background-color: rgba(255, 255, 255, 0.801);\r\n      padding: .3rem ;\r\n      border-radius: 1rem;\r\n    }\r\n  }\r\n}\r\n\r\n@keyframes pulseAnimation {\r\n  0% {\r\n    transform: scale(1);\r\n  }\r\n\r\n  100% {\r\n    transform: scale(1.2);\r\n  }\r\n}\r\n</style>\r\n","import script from \"./WindowComponent.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./WindowComponent.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./WindowComponent.vue?vue&type=style&index=0&id=8fc878f2&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-8fc878f2\"]])\n\nexport default __exports__","<script setup>\r\n\r\nimport waiting from \"@/assets/waiting.png\";\r\nimport { defineProps } from \"vue\";\r\n// import waitin1 from \"@/assets/waiting1.png\";\r\n// import waiting2 from \"@/assets/waiting2.png\";\r\nconst props = defineProps({\r\n    waitover:{\r\n        type:Boolean,\r\n        required:true,\r\n    },\r\n   \r\n})\r\n\r\nconsole.log(props.alarm);\r\n</script>\r\n\r\n<template>\r\n    <div class=\"wait\">\r\n        \r\n        <div class=\"red\" v-if=\"props.waitover===true\"></div>\r\n         <div class=\"green\" v-else ></div>\r\n        <img :src=\"waiting\" alt=\"\">\r\n    </div>\r\n</template>\r\n<style lang=\"scss\" scoped>\r\n.wait{\r\n    width: 15%;\r\n    margin: 1rem 1rem;\r\n    .green{\r\n        background-color: green;\r\n        width: 20px;\r\n        height: 20px;\r\n        border-radius: 50%;\r\n        animation: pulse-animation 2s infinite;\r\n    }\r\n    \r\n    .red{\r\n        background-color: rgb(223, 30, 30);\r\n        width: 20px;\r\n        height: 20px;\r\n        border-radius: 50%;\r\n        animation: pulse-animation 2s infinite;\r\n    }\r\n}\r\n\r\n@keyframes pulseAnimation {\r\n    0% {\r\n      transform: scale(1);\r\n    }\r\n  \r\n    100% {\r\n      transform: scale(1.2);\r\n    }\r\n  }\r\n</style>\r\n","import script from \"./WaitingComponent.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./WaitingComponent.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./WaitingComponent.vue?vue&type=style&index=0&id=602b53fe&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-602b53fe\"]])\n\nexport default __exports__","import axios from \"axios\";\r\nimport { API_BASE_URL } from \"@/utils/api\";\r\nconst token = localStorage.getItem(\"authToken\");\r\n\r\nexport const fetchWindows = (branch_id)=>{\r\n    try {\r\n        const result = axios.get(\r\n            `${API_BASE_URL}/windows/${branch_id}`,\r\n            {\r\n              headers: {\r\n                bearer: token,\r\n              },\r\n            }\r\n          );\r\n          return result;\r\n        \r\n    } catch (error) {\r\n        console.log(error)\r\n    }\r\n    \r\n}","<script setup>\r\nimport { onMounted, ref,computed, watch } from \"vue\";\r\n// import { useStore } from \"vuex\";\r\n\r\nimport { useRoute } from \"vue-router\";\r\n\r\nimport WindowComponent from \"./WindowComponent.vue\";\r\nimport WaitingComponent from \"./WaitingComponent.vue\";\r\nimport { getBranch } from \"@/utils/branches\";\r\nimport {fetchWindows} from \"@/utils/monitoring\"\r\n\r\n\r\n\r\n\r\nconst route = useRoute();\r\n\r\nconst branches = ref(null);\r\nconst childBranches = ref(0);\r\nconst selectedBranch = ref(0);\r\n\r\n// const route = useRoute();\r\n\r\nconst search = ref(\"\");\r\nconst headers = [\r\n  {\r\n    align: 'center',\r\n    key: 'winno',\r\n    sortable: false,\r\n    title: 'Номер окна',\r\n  },\r\n  { key: 'operatorId', title: 'Id оператора', align: 'center', },\r\n  { key: 'active', title: 'Активен', align: 'center', },\r\n  { key: 'worktitle', title: 'Название услуги', align: 'center', },\r\n  { key: 'name', title: 'Ф.И.О', align: 'center', },\r\n  // { key: 'iron', title: 'Iron (%)' },\r\n];\r\nconst desserts = ref([]);\r\n\r\nconst windows = ref([]);\r\n\r\nconst waitClient = ref(0);\r\nconst info = ref({\r\n  inservice: 0,\r\n  wait: 0,\r\n  online: 0,\r\n});\r\n\r\nconst getBranches = async () => {\r\n  \r\n  // console.log(result);\r\n  branches.value = await getBranch();\r\n};\r\n\r\nconst getWindows = async () => {\r\n  try {\r\n    const result = await fetchWindows(selectedBranch.value);\r\n    // console.log(result.data);\r\n    desserts.value = result.data.windows;\r\n    info.value.inservice = result.data.INSERVICE;\r\n    info.value.wait = result.data.NEW.length;\r\n    windows.value = result.data.windows;\r\n    waitClient.value = result.data.NEW;\r\n    result.data.windows.map(e => {\r\n      if (e.operatorId !== 0) {\r\n        info.value.online++;\r\n      }\r\n    });\r\n    console.log(waitClient.value)\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nconst formattedDesserts = computed(() => {\r\n  return desserts.value.map(ticket => {\r\n    return {\r\n      ...ticket,\r\n      active:ticket.active === true ? \"Да\" : \"Нет\",\r\n      worktitle:ticket.worktitle === \"null\" ? \"Нет\" : ticket.worktitle,\r\n    }\r\n  }).sort((a, b) => {\r\n    return a.starttime - b.starttime;\r\n  });\r\n});\r\n\r\nconst downloadCSV = () => {\r\n  // Convert items to CSV format\r\n  try {\r\n    const excel = desserts.value.map(window => {\r\n      return {\r\n        'Номер окна': window.winno,\r\n        'Id оператора': window.operatorId,\r\n        'Активен': window.active === true ? \"Да\" : \"Нет\",\r\n        'Название услуги': window.worktitle,\r\n        'Ф.И.О': window.name  }\r\n    });\r\n    // console.log(excel);\r\n    const csvContent = convertToCSV(excel);\r\n\r\n    // Create a Blob object with the CSV content\r\n    const blob = new Blob([\"\\ufeff\", csvContent], { type: 'text/csv;charset=utf-8;' });\r\n\r\n    // Create a link element to trigger the download\r\n    const link = document.createElement('a');\r\n    link.href = window.URL.createObjectURL(blob);\r\n    link.download = 'data.csv';\r\n\r\n    // Trigger the download\r\n    link.click();\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n\r\n}\r\n\r\nconst convertToCSV = (items) => {\r\n  const header = Object.keys(items[0]).join(',');\r\n  const rows = items.map(item => Object.values(item).join(','));\r\n  return `${header}\\n${rows.join('\\n')}`;\r\n}\r\n\r\nwatch(() => route.query, () => {\r\n  if(!route.query.branch_id){\r\n      childBranches.value = 0;\r\n      selectedBranch.value = 0;\r\n      desserts.value = [];\r\n      windows.value = [];\r\n      return\r\n    }\r\n     childBranches.value = branches.value.find(e=>e.F_ID*1 === route.query.parent_branch*1);\r\n    selectedBranch.value = route.query.branch_id;\r\n    getWindows();\r\n});\r\n\r\nonMounted(() => {\r\n  getBranches();\r\n});\r\n</script>\r\n\r\n<template>\r\n  <div class=\"mon-container\">\r\n\r\n    <div class=\"inputBlock\">\r\n      <select class=\"form-select\" v-model=\"childBranches\">\r\n        <option selected disabled value=\"0\">Выберите филиал</option>\r\n        <option v-for=\"br in branches\" :key=\"br.id\" :value=\"br\">\r\n          {{ br.F_NAME }}\r\n        </option>\r\n      </select>\r\n\r\n      <select :disabled=\"!childBranches\" class=\"form-select\" v-model=\"selectedBranch\" @change=\"getWindows()\">\r\n        <option selected disabled value=\"0\">Выберите отделение</option>\r\n        <option v-for=\"child in childBranches.children\" :key=\"child.F_ID\" :value=\"child.F_ID\">\r\n          {{ child.F_NAME }}\r\n        </option>\r\n      </select>\r\n    </div>\r\n    <div class=\"live\">\r\n      <div class=\"indicators flex\">\r\n        <div class=\"clientIndicator m-2 w-full\">\r\n          <div class=\"inserviceClient p-2\">\r\n            <h5>Количество обслуживающихся клиентов: {{ info.inservice }}</h5>\r\n          </div>\r\n          <div class=\"waitClient p-2\">\r\n            <h5>Количество ожидающих клиентов: {{ info.wait }}</h5>\r\n          </div>\r\n        </div>\r\n        <div class=\"operatorIndicator m-2 w-full flex justify-center items-center\">\r\n          <div class=\"onlineOperator p-2\">\r\n            <h5>Количество операторов в сети: {{ info.online }}</h5>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div v-if=\"branches\" class=\"windows\">\r\n        <div class=\"waits\">\r\n          <WaitingComponent v-for=\"wait in waitClient\" :key=\"wait.id\" :waitover=\"wait.waitover === 'true'\"  />\r\n          <!-- <WaitingComponent :waitover=\"true\" /> -->\r\n          <!-- <WaitingComponent :waitover=\"true\"  /> -->\r\n        </div>\r\n        <div class=\"tables\">\r\n\r\n\r\n\r\n         \r\n          <!-- <window-component :table-number=\"10\" :is-active=\"false\" :in-service=\"false\" /> -->\r\n\r\n          <WindowComponent v-for=\"window in windows\" :key=\"window.id\" :table-number=\"window.winno\"\r\n            :operator-name=\"window.name\" :is-active=\"window.operatorId === 0 ? false : true\"\r\n            :in-service=\"window.INSERVICE.length !== 0\" :is-client-alarm=\"window.INSERVICE[0]?.servover\" :client-info=\"window.INSERVICE.length !== 0\r\n          ? window.INSERVICE[0].servicename\r\n          : null\r\n        \" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"data-table\">\r\n      <v-btn v-if=\"selectedBranch\" class=\"m-2\" @click=\"downloadCSV()\">Скачать</v-btn>\r\n      <v-card title=\"Окна\" flat>\r\n        <template v-slot:text>\r\n          <v-text-field v-model=\"search\" label=\"Искать\" prepend-inner-icon=\"mdi-magnify\" variant=\"outlined\" hide-details\r\n            single-line></v-text-field>\r\n        </template>\r\n\r\n        <v-data-table :headers=\"headers\" :items=\"formattedDesserts\" :search=\"search\"\r\n        no-data-text=\"Нет доступых данных\" items-per-page-text=\"Элементов на странице\" ></v-data-table>\r\n      </v-card>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n.mon-container {\r\n  width: 100%;\r\n  height: 70vh;\r\n\r\n  .inputBlock {\r\n    padding: 0.5rem 2rem;\r\n\r\n    select {\r\n      margin: 1rem auto;\r\n    }\r\n  }\r\n\r\n  .live {\r\n    background: url(\"../../../assets/back.png\");\r\n    width: 100%;\r\n    height: 100%;\r\n\r\n    .indicators {\r\n      height: fit-content;\r\n      background-color: rgba(44, 44, 44, 0.308);\r\n\r\n      .operatorIndicator {\r\n        border-left: 2px solid white;\r\n      }\r\n\r\n      h5 {\r\n        font-weight: 600;\r\n        color: white;\r\n      }\r\n    }\r\n\r\n    .windows {\r\n      padding: 1rem;\r\n      position: relative;\r\n      width: 100%;\r\n      height: 80%;\r\n      display: flex;\r\n\r\n      .waits {\r\n        width: 25%;\r\n        height: 100%;\r\n        background-color: rgba(235, 236, 229, 0.308);\r\n        display: flex;\r\n        flex-direction: row;\r\n        flex-wrap: wrap;\r\n        overflow: auto;\r\n        padding: 1rem;\r\n      }\r\n\r\n      .tables {\r\n        overflow-y: scroll;\r\n        width: 75%;\r\n        height: 100%;\r\n\r\n        display: flex;\r\n        flex-direction: row;\r\n        flex-wrap: wrap;\r\n\r\n      }\r\n    }\r\n  }\r\n\r\n  @keyframes pulse-animation {\r\n    0% {\r\n      transform: scale(1);\r\n    }\r\n\r\n    50% {\r\n      transform: scale(1.2);\r\n    }\r\n\r\n    100% {\r\n      transform: scale(1);\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import script from \"./MonitoringMain.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./MonitoringMain.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./MonitoringMain.vue?vue&type=style&index=0&id=c543b4f0&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-c543b4f0\"]])\n\nexport default __exports__","import script from \"./MonitoringView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./MonitoringView.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import axios from \"axios\";\r\nimport { API_BASE_URL } from \"@/utils/api\";\r\n\r\nexport const fetchEmployeeByBranchId = async(branch)=>{\r\n    try{\r\n        const result = await axios.get(\r\n            `${API_BASE_URL}/employees/${branch}`,\r\n            {\r\n              headers: {\r\n                bearer: localStorage.getItem(\"authToken\"),\r\n              },\r\n            }\r\n          );\r\n          return result.data.data;\r\n    }catch(err){\r\n        console.log(err);\r\n    }\r\n   \r\n}","<script setup>\r\n\r\nimport { onMounted, ref, computed,watch } from \"vue\";\r\nimport { useRoute } from \"vue-router\";\r\nimport { getBranch } from \"@/utils/branches\";\r\n\r\nimport {fetchEmployeeByBranchId } from '@/utils/employee';\r\n\r\nconst branches = ref(null);\r\n\r\nconst childBranches = ref(0);\r\nconst selectedBranch = ref(0);\r\n\r\nconst route = useRoute();\r\n\r\n\r\n\r\nconst headers = [\r\n  {\r\n    align: 'center',\r\n    key: 'F_BRANCH_ID',\r\n    sortable: false,\r\n    title: 'ID отделения',\r\n  },\r\n  { key: 'F_DESCR', title: 'Описание', align: 'center', },\r\n  { key: 'F_ID', title: 'ID оператора', align: 'center', },\r\n  { key: 'F_NAME', title: 'Ф.И.О', align: 'center', },\r\n  // { key: 's', title: 'Ф.И.О', align: 'center', },\r\n  { key: 'timeDifference', title: 'Время', align: 'center', },\r\n  { key: 'startTime', title: 'Время начала работы', align: 'center', },\r\n];\r\nconst desserts = ref([]);\r\n\r\nconst chart = ref(null);\r\n\r\nconst employeeChart = ref({\r\n  options: {\r\n    chart: {\r\n      type: \"bar\",\r\n      height: 350,\r\n    },\r\n    plotOptions: {\r\n      bar: {\r\n        borderRadius: 4,\r\n        horizontal: true,\r\n      },\r\n    },\r\n    dataLabels: {\r\n      enabled: true,\r\n      offsetX: -60,\r\n\r\n      formatter: function (value) {\r\n        return formatTime(value);\r\n        // if (value % 10 === 1 && value % 100 !== 11) {\r\n        //   return value + \" час\";\r\n        // } else if (\r\n        //   value % 10 >= 2 &&\r\n        //   value % 10 <= 4 &&\r\n        //   (value % 100 < 10 || value % 100 >= 20)\r\n        // ) {\r\n        //   return value + \" часа\";\r\n        // } else {\r\n        //   return value + \" часов\";\r\n        // }\r\n      }\r\n    },\r\n    xaxis: {\r\n      categories: [\r\n        \"South Korea\",\r\n        \"Canada\",\r\n        \"United Kingdom\",\r\n        \"Netherlands\",\r\n        \"Italy\",\r\n        \"France\",\r\n        \"Japan\",\r\n        \"United States\",\r\n        \"China\",\r\n        \"Germany\",\r\n      ],\r\n    },\r\n    yaxis: {\r\n      labels: {\r\n        maxWidth: 500,\r\n      },\r\n    },\r\n  },\r\n  series: [\r\n    {\r\n      data: [400, 430, 448, 470, 540, 580, 690, 1100, 1200, 1380],\r\n    },\r\n  ],\r\n});\r\n\r\nconst getBranches = async () => {\r\n  \r\n  // console.log(result);\r\n  branches.value = await getBranch();\r\n};\r\n\r\nconst getEmployee = async () => {\r\n  \r\n  desserts.value = await fetchEmployeeByBranchId(selectedBranch.value);\r\n  \r\n\r\n  const employeeData = desserts.value.map(function (employee) {\r\n    return {\r\n      name: employee.F_NAME,\r\n      status: employee.timeDifference ? \"Онлайн\" : \"Оффлайн\",\r\n      // photo: \"https://static.vecteezy.com/system/resources/thumbnails/024/905/590/small/smiling-indian-girl-in-traditional-clothing-outdoors-generated-by-ai-free-photo.jpg\",\r\n      value: employee.timeDifference,\r\n    };\r\n  });\r\n  const seriesData = employeeData.map(function (employee) {\r\n    return {\r\n      x: employee.name + \" - \" + employee.status,\r\n      y: employee.value,\r\n      // photo: employee.photo,\r\n    };\r\n  });\r\n\r\n\r\n  chart.value.updateOptions({\r\n    xaxis: {\r\n      categories: seriesData.map(function (employee) {\r\n        return employee.x;\r\n      }),\r\n    },\r\n    series: [\r\n      {\r\n        name: \"Показатели\",\r\n        data: seriesData,\r\n\r\n      },\r\n    ],\r\n  });\r\n};\r\n\r\n\r\nconst formatTime = (milliseconds) => {\r\n  const hours = Math.floor(milliseconds / 3600000);\r\n  const minutes = Math.floor((milliseconds % 3600000) / 60000);\r\n  const seconds = Math.floor((milliseconds % 60000) / 1000);\r\n  return `${hours}ч. ${minutes}м. ${seconds}сек.`;\r\n\r\n};\r\nconst downloadCSV = () => {\r\n  // Convert items to CSV format\r\n  try {\r\n    const excel = desserts.value.map(ticket => {\r\n      const start = ticket.startTime * 1;\r\n      return {\r\n        'ID отделения': ticket.F_BRANCH_ID,\r\n        'Описание': ticket.F_DESCR,\r\n        'ID оператора': ticket.F_ID,\r\n        'Ф.И.О': ticket.F_NAME,\r\n        'Время': formatTime(ticket.timeDifference),\r\n        'Время начала работы': ticket.timeDifference !== 0 ? new Date(start).toLocaleString(\"ru-RU\") : \"Оффлайн\"\r\n     }\r\n    });\r\n    // console.log(excel);\r\n    const csvContent = convertToCSV(excel);\r\n\r\n    // Create a Blob object with the CSV content\r\n    const blob = new Blob([\"\\ufeff\", csvContent], { type: 'text/csv;charset=utf-8;' });\r\n\r\n    // Create a link element to trigger the download\r\n    const link = document.createElement('a');\r\n    link.href = window.URL.createObjectURL(blob);\r\n    link.download = 'data.csv';\r\n\r\n    // Trigger the download\r\n    link.click();\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n\r\n}\r\n\r\nconst convertToCSV = (items) => {\r\n  const header = Object.keys(items[0]).join(',');\r\n  const rows = items.map(item => Object.values(item).join(','));\r\n  return `${header}\\n${rows.join('\\n')}`;\r\n}\r\nconst formattedDesserts = computed(() => {\r\n  return desserts.value.map(ticket => {\r\n    const start = ticket.startTime * 1;\r\n    return {\r\n      ...ticket,\r\n      timeDifference: formatTime(ticket.timeDifference),\r\n      startTime: ticket.timeDifference !== 0 ? new Date(start).toLocaleString(\"ru-RU\") : \"Оффлайн\",\r\n      F_DESCR: ticket.F_DESCR === \"null\" ? \"Нет\" : ticket.F_DESCR\r\n    }\r\n  }).sort((a, b) => {\r\n    return a.starttime - b.starttime;\r\n  });\r\n});\r\n\r\nwatch(() => route.query, () => {\r\n    if(!route.query.branch_id){\r\n      childBranches.value = 0;\r\n      selectedBranch.value = 0;\r\n      desserts.value = [];\r\n      return\r\n    }\r\n     childBranches.value = branches.value.find(e=>e.F_ID*1 === route.query.parent_branch*1);\r\n    selectedBranch.value = route.query.branch_id;\r\n    getEmployee();\r\n});\r\n\r\nonMounted(() => {\r\n  getBranches();\r\n});\r\n</script>\r\n<template>\r\n  <div class=\"employee-container\">\r\n    <div class=\"mainBlock\">\r\n    \r\n      <div class=\"inputBlock\">\r\n        <select class=\"form-select\" v-model=\"childBranches\">\r\n          <option selected disabled value=\"0\">Выберите филиал</option>\r\n          <option v-for=\"br in branches\" :key=\"br.id\" :value=\"br\">\r\n            {{ br.F_NAME }}\r\n          </option>\r\n        </select>\r\n\r\n        <select :disabled=\"!childBranches\" class=\"form-select\" v-model=\"selectedBranch\" @change=\"getEmployee\">\r\n          <option selected disabled value=\"0\">Выберите отделение</option>\r\n          <option v-for=\"child in childBranches.children\" :key=\"child.F_ID\" :value=\"child.F_ID\">\r\n            {{ child.F_NAME }}\r\n          </option>\r\n        </select>\r\n      </div>\r\n      <div v-if=\"selectedBranch\" class=\"employee-chart\">\r\n        <apexchart ref=\"chart\" height=\"800\" :options=\"employeeChart.options\" :series=\"employeeChart.series\"></apexchart>\r\n      </div>\r\n\r\n      <div class=\"empl-data\">\r\n        <v-btn v-if=\"selectedBranch\" class=\"m-2\" @click=\"downloadCSV()\">Скачать</v-btn>\r\n        <v-card title=\"Сотрудники\" flat>\r\n          <template v-slot:text>\r\n            <v-text-field v-model=\"search\" label=\"Search\" prepend-inner-icon=\"mdi-magnify\" variant=\"outlined\"\r\n              hide-details single-line></v-text-field>\r\n          </template>\r\n\r\n          <v-data-table :headers=\"headers\" :items=\"formattedDesserts\" :search=\"search\"\r\n          no-data-text=\"Нет доступых данных\" items-per-page-text=\"Элементов на странице\"></v-data-table>\r\n        </v-card>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n.inputBlock {\r\n  padding: 0.5rem 2rem;\r\n\r\n  select {\r\n    margin: 1rem auto;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./EmployeeRate.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./EmployeeRate.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./EmployeeRate.vue?vue&type=style&index=0&id=d560bfb4&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-d560bfb4\"]])\n\nexport default __exports__","import axios from \"axios\";\r\nimport { API_BASE_URL } from \"@/utils/api\";\r\n\r\nconst token = localStorage.getItem(\"authToken\");\r\n\r\nexport const fetchTicketList = async (\r\n  pageNumber,\r\n  value,\r\n  parent_branch,\r\n  branch_id\r\n) => {\r\n  try {\r\n    let params = new URLSearchParams({\r\n      page: pageNumber,\r\n      limit: 100,\r\n      filter:\r\n        value === \"bad-rate\"\r\n          ? \"bad\"\r\n          : value === \"wait\"\r\n          ? \"wait\"\r\n          : value === \"serv\"\r\n          ? \"serv\"\r\n          : undefined,\r\n    });\r\n    if (!value) {\r\n      params = new URLSearchParams({\r\n        page: pageNumber,\r\n        limit: 100,\r\n      });\r\n    }\r\n\r\n    let url = branch_id\r\n      ? `${API_BASE_URL}/tickets/list/${branch_id}`\r\n      : parent_branch\r\n      ? `${API_BASE_URL}/tickets/list/${parent_branch}`\r\n      : `${API_BASE_URL}/tickets/list`;\r\n\r\n    url += `?${params.toString()}`;\r\n\r\n    const result = await axios.get(url, {\r\n      headers: { bearer: token },\r\n    });\r\n\r\n    return result;\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\nexport const downloadPage = async () => {\r\n  const URL = `${API_BASE_URL}/tickets/download`;\r\n\r\n  try {\r\n    const response = await axios.get(URL, {\r\n      headers: {\r\n        bearer: token,\r\n      },\r\n      responseType: \"blob\",\r\n    });\r\n    const url = window.URL.createObjectURL(new Blob([response.data]));\r\n    const link = document.createElement(\"a\");\r\n    link.href = url;\r\n    link.setAttribute(\"download\", \"generated_data.xlsx\");\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n","<script setup>\r\n\r\nimport { onMounted, ref, watch, computed } from \"vue\";\r\nimport { useRoute, useRouter } from \"vue-router\";\r\nimport { downloadPage, fetchTicketList } from \"@/utils/tickets\";\r\n\r\n\r\n\r\nconst search = ref(\"\");\r\nconst pagination = ref({\r\n  pageCount: 1,\r\n  pageNumber: 1,\r\n});\r\nconst headers = [\r\n  { align: \"center\", key: \"iin\", sortable: false, title: \"ИИН\" },\r\n  { align: \"center\", key: \"ticketno\", title: \"Номер билета\" },\r\n  { align: \"center\", key: \"servicename\", title: \"Название услуги\" },\r\n  { align: \"center\", key: \"idbranch\", title: \"Отделение\" },\r\n  { align: \"center\", key: \"operator\", title: \"Оператор\" },\r\n  { align: \"center\", key: \"state\", title: \"Статус\" },\r\n  { align: \"center\", key: \"starttime\", title: \"Время регистрации\" },\r\n  { align: \"center\", key: \"startservtime\", title: \"Время обслуживания\" },\r\n  { align: \"center\", key: \"rating\", title: \"Оценка\" },\r\n  { align: \"center\", key: \"waitover\", title: \"Превышение времени ожидания\" },\r\n  { align: \"center\", key: \"servover\", title: \"Превышение времени обслуживания\" },\r\n];\r\n\r\nconst desserts = ref([]);\r\nconst route = useRoute();\r\nconst router = useRouter();\r\n\r\nconst getTicketList = async (value) => {\r\n  try {\r\n    const result = await fetchTicketList(pagination.value.pageNumber,value,route.query.parent_branch,route.query.branch_id);\r\n\r\n    pagination.value.pageCount = result.data.pages;\r\n    // pagination.value.pageNumber = 1;\r\n    desserts.value = result.data.data.tickets;\r\n  } catch (err) {\r\n    console.error(err);\r\n  }\r\n};\r\n\r\n// const filterTickets = async (value) => {\r\n//   try {\r\n//     const params = new URLSearchParams({\r\n//       page: pagination.value.pageNumber,\r\n//       limit: 100,\r\n//       filter: value === \"bad-rate\" ? \"bad\" : value === \"wait\" ? \"wait\" : value === \"serv\" ? \"serv\" : undefined\r\n//     });\r\n\r\n//     let url = `http://${host}:${port}/api/v1/tickets/list`;\r\n\r\n//     if (route.query.branch_id) {\r\n//       url += `/${route.query.branch_id}`;\r\n//     }\r\n\r\n//     url += `?${params.toString()}`;\r\n\r\n//     const result = await axios.get(url, {\r\n//       headers: { bearer: localStorage.getItem(\"authToken\") },\r\n//     });\r\n\r\n//     pagination.value.pageCount = result.data.pages;\r\n//     pagination.value.pageNumber = 1;\r\n//     desserts.value = result.data.data.tickets;\r\n//   } catch (err) {\r\n//     console.error(err);\r\n//   }\r\n// };\r\n\r\nconst reset = async () => {\r\n  try {\r\n   const result = await fetchTicketList(pagination.value.pageNumber);\r\n\r\n\r\n    pagination.value.pageCount = result.data.pages;\r\n    pagination.value.pageNumber = 1;\r\n    desserts.value = result.data.data.tickets;\r\n    router.push({ ...router.currentRoute.value, query: {} });\r\n  } catch (err) {\r\n    console.error(err);\r\n  }\r\n};\r\n\r\nwatch(() => pagination.value.pageNumber, () => {\r\n  getTicketList();\r\n});\r\n\r\nwatch(() => route.query, () => {\r\n  getTicketList();\r\n});\r\n\r\nconst formattedDesserts = computed(() => {\r\n  return desserts.value.map(ticket => {\r\n    return {\r\n      ...ticket,\r\n      starttime: new Date(ticket.starttime).toLocaleString(\"ru-RU\"),\r\n      startservtime: new Date(ticket.startservtime).toLocaleString(\"ru-RU\"),\r\n      rating: ticket.rating === \"5\" ? \"Отлично\" : ticket.rating === \"4\" ? \"Хорошо\" : ticket.rating === \"4\" ? \"Плохо\" : \"Нет оценки\",\r\n      waitover: ticket.waitover === \"true\" ? \"Да\" : \"Нет\",\r\n      servover: ticket.servover === \"true\" ? \"Да\" : \"Нет\",\r\n      state: ticket.state === \"COMPLETED\" ? \"Обслужен\" : ticket.state === \"NEW\" ? \"Ожидает\" : ticket.state === \"INSERVICE\" ? \"Обслуживается\" : \"Бронь\",\r\n      idbranch: ticket.idbranch\r\n    };\r\n  }).sort((a, b) => {\r\n    return a.starttime - b.starttime;\r\n  });\r\n});\r\n\r\nconst download = async () => {\r\n  try {\r\n    await downloadPage();\r\n  } catch (error) {\r\n    console.error('Error downloading Excel:', error);\r\n  }\r\n};\r\n\r\nonMounted(() => {\r\n  getTicketList();\r\n});\r\n</script>\r\n\r\n\r\n<template>\r\n  <div class=\"ticket-container\">\r\n    <div class=\"ticketMain\">\r\n      <div class=\"filter block\">\r\n        <button class=\"btn btn-primary\" @click=\"reset()\">Все билеты</button>\r\n        <button class=\"btn btn-primary\" @click=\"download()\">Скачать</button>\r\n        <button class=\"btn btn-warning\" @click=\"getTicketList('bad-rate')\">Плохие оценки</button>\r\n        <button class=\"btn btn-warning\" @click=\"getTicketList('serv')\">\r\n          Перевышение времени обслуживания\r\n        </button>\r\n        <button class=\"btn btn-warning\" @click=\"getTicketList('wait')\">Перевышение времени ожидания</button>\r\n      </div>\r\n      <div class=\"pagi \">\r\n        <div class=\"text-center\">\r\n          <v-pagination v-model=\"pagination.pageNumber\" :length=\"pagination.pageCount\"\r\n            :total-visible=\"10\"></v-pagination>\r\n        </div>\r\n      </div>\r\n      <v-card title=\"Талоны\" flat>\r\n        <!-- <template v-slot:text>\r\n          <v-text-field v-model=\"search\" label=\"Search\" prepend-inner-icon=\"mdi-magnify\" variant=\"outlined\" hide-details\r\n            single-line></v-text-field>\r\n        </template> -->\r\n        <!-- <v-select label=\"Select\"\r\n          :items=\"['California', 'Colorado', 'Florida', 'Georgia', 'Texas', 'Wyoming']\"></v-select> -->\r\n        <v-data-table :headers=\"headers\" :items=\"formattedDesserts\" :search=\"search\" :hide-default-footer=\"true\"\r\n          no-data-text=\"Нет билетов\" items-per-page-text=\"Билетов на странице\"></v-data-table>\r\n      </v-card>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n.ticket-container {\r\n  margin: 1rem;\r\n\r\n  .filter {\r\n\r\n    padding: 0.5rem;\r\n\r\n    button {\r\n      margin: 0.5rem 0.5rem 0.5rem 0.5rem;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import script from \"./TicketsView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./TicketsView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./TicketsView.vue?vue&type=style&index=0&id=9752e950&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-9752e950\"]])\n\nexport default __exports__","import axios from \"axios\";\r\nimport { API_BASE_URL } from \"@/utils/api\";\r\n\r\nconst token = localStorage.getItem(\"authToken\");\r\n\r\nexport const fetchMessages = async () => {\r\n    try {\r\n        const result = await axios(`${API_BASE_URL}/messages`, {\r\n            headers: {\r\n                bearer: token,\r\n            },\r\n        });\r\n        const resultMessages = result.data.data.message;\r\n        resultMessages.map((e) => {\r\n            const d = new Date(e.created_at);\r\n            e.created_at =\r\n                d.toLocaleDateString(\"RU-ru\") +\r\n                \" \" +\r\n                d.getHours() +\r\n                \":\" +\r\n                d.getMinutes() +\r\n                \":\" +\r\n                d.getSeconds();\r\n        });\r\n        return resultMessages;\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n};\r\n\r\nexport const fetchUsers = async()=>{\r\n    const result = await axios.get(`${API_BASE_URL}/users/users/last`, {\r\n    headers: {\r\n      bearer: token,\r\n    },\r\n  });\r\n  const value = result.data.data.users;\r\n  return value;\r\n}\r\n\r\nexport const postMessage = async(message)=>{\r\n    try {\r\n        await axios.post(`${API_BASE_URL}/messages`, {\r\n         txt: message,\r\n       }, {\r\n         headers: {\r\n           bearer: token,\r\n         },\r\n       });\r\n      return true;\r\n       // console.log(result)\r\n     } catch (err) {\r\n       console.log(err);\r\n       return false;\r\n     }\r\n}\r\n","<script setup>\r\n\r\nimport { onMounted, ref } from \"vue\";\r\nimport { fetchMessages, fetchUsers, postMessage } from \"@/utils/chat\";\r\nimport { getBranch } from \"@/utils/branches\";\r\n\r\nconst pie = ref({\r\n  options: {\r\n    chart: {\r\n      width: 300,\r\n      type: \"pie\",\r\n    },\r\n    labels: [\"Доступно\", \"Нет связи\", \"Не используется\", \"Потеряна связь\",],\r\n    colors: [\"#13ad02\", \"#fc0f03\", \"#ada5a5\", \"#d9e00d\"],\r\n    responsive: [\r\n      {\r\n        breakpoint: 480,\r\n        options: {\r\n          chart: {\r\n            width: 200,\r\n          },\r\n          legend: {\r\n            show: false,\r\n            position: \"top\",\r\n          },\r\n        },\r\n      },\r\n    ],\r\n  },\r\n  series: [44, 55, 13, 43],\r\n});\r\n\r\nconst messages = ref([]);\r\nconst users = ref([]);\r\nconst msg = ref('');\r\n\r\nconst getMessages = async () => {\r\n  messages.value = await fetchMessages();\r\n\r\n};\r\n\r\nconst getUsers = async () => {\r\n\r\n  users.value = await fetchUsers();\r\n\r\n}\r\nconst getBranches = async () => {\r\n  const branches = await getBranch();\r\n  let online = 0;\r\n  let offline = 0;\r\n  branches.map(e => {\r\n    e.children.map(child => {\r\n      if (child.ONN === 1) {\r\n        online++;\r\n      }\r\n      else offline++;\r\n    })\r\n  });\r\n  pie.value.series = [online, offline, 0, 0];\r\n  // console.log(pie.value)\r\n  // console.log(result);\r\n}\r\n\r\n\r\nconst sendMessage = async () => {\r\n  if (!msg.value) {\r\n    return alert(\"Заполните поле\")\r\n  }\r\n  try {\r\n    const posted = await postMessage(msg.value);\r\n    if (posted) {\r\n      const newMessages = {\r\n        user_login: localStorage.getItem(\"login\"),\r\n        message_txt: msg.value,\r\n        created_at: new Date().toLocaleString(\"RU-ru\")\r\n      }\r\n      messages.value.push(newMessages)\r\n\r\n      msg.value = \"\";\r\n    }\r\n\r\n    // console.log(result)\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n}\r\n\r\nonMounted(() => {\r\n  getMessages();\r\n  getUsers();\r\n  getBranches();\r\n})\r\n</script>\r\n\r\n<template>\r\n  <main>\r\n    <div class=\"chat-container\">\r\n      <div class=\"chat-left\">\r\n        <div class=\"chat\">\r\n          <div class=\"inner\">\r\n            <div class=\"messages\">\r\n\r\n              <div v-for=\"message in messages\" :key=\"message.id\" class=\"message flex shadow-md rounded-xl mx-auto my-3\">\r\n                <div class=\"userImg m-1 h-full\">\r\n                  <img src=\"../assets/avatart.jpg\" class=\"rounded-full\" width=\"50px\" alt=\"\" />\r\n                  <div class=\"login m-2\">{{ message.user_login }}</div>\r\n                </div>\r\n                <div class=\"msg p-2 m-1 w-full h-full\">\r\n                  <div class=\"msg-body text-left bg-gray-100 rounded-lg p-2 text-sm\">\r\n                    {{ message.message_txt }}\r\n                  </div>\r\n                  <div class=\"msg-date  text-sm\">\r\n                    {{ message.created_at }}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n\r\n            </div>\r\n            <div class=\"send-mess\">\r\n              <div class=\"input-group\">\r\n                <div class=\"form-floating\">\r\n\r\n                  <textarea v-model=\"msg\" class=\"form-control\" placeholder=\"Leave a comment here\"\r\n                    id=\"floatingTextarea\"></textarea>\r\n                  <label for=\"floatingTextarea\">Сообщение...</label>\r\n                  <!-- {{ msg }} -->\r\n\r\n                </div>\r\n                <button @click=\"sendMessage\" class=\"btn btn-primary\">Отправить</button>\r\n\r\n\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"right-chat\">\r\n\r\n        <div class=\"pieChart \">\r\n          <!-- <h5 class=\"m-4\">Серверы</h5> -->\r\n          <apexchart :height=\"400\" :options=\"pie.options\" :series=\"pie.series\"></apexchart>\r\n        </div>\r\n        <div class=\"last-container p-3\">\r\n          <div class=\"title m-2\">\r\n            <h5>Последние заходившие</h5>\r\n          </div>\r\n          <div class=\"flex overflow-x-auto space-x-8 w-full\">\r\n            <section v-for=\"user in users\" :key=\"user.id\" class=\"flex-shrink-0 rounded-full \">\r\n              <span class=\"text-sm\">{{ user.sign_in_date }}</span>\r\n              <span class=\"flex justify-center items-center\"><img src=\"../assets/avatart.jpg\"\r\n                  class=\"h-24 w-24 rounded-full border-2 \" alt=\"\" /></span>\r\n              <span class=\"text-sm\">{{ user.login }}</span>\r\n            </section>\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </main>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\nmain {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.chat-container {\r\n  width: 100%;\r\n  height: 75vh;\r\n  display: flex;\r\n\r\n  .chat-left {\r\n    width: 50%;\r\n    height: 100%;\r\n    padding: 1rem;\r\n\r\n    .chat {\r\n      width: 100%;\r\n      height: 100%;\r\n      border: 1px solid black;\r\n      border-radius: 1rem;\r\n      padding: .1rem;\r\n      background-color: rgb(143, 143, 143);\r\n\r\n      .inner {\r\n        width: 100%;\r\n        height: 100%;\r\n        border: 1px solid black;\r\n        border-radius: 1rem;\r\n        background-color: white;\r\n\r\n        .messages {\r\n          height: 90%;\r\n          width: 100%;\r\n          padding: 0.5rem;\r\n          overflow-y: scroll;\r\n\r\n          .message {\r\n            position: relative;\r\n\r\n            .msg-date {\r\n              position: absolute;\r\n              bottom: 5%;\r\n              right: 2%;\r\n            }\r\n          }\r\n        }\r\n\r\n        .send-mess {\r\n          height: 10%;\r\n          width: 100%;\r\n\r\n          .input-group {\r\n            .form-floating {\r\n              textarea {\r\n                border-radius: 0 0 0 1rem;\r\n              }\r\n\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .right-chat {\r\n    width: 50%;\r\n    height: 100%;\r\n\r\n    .pieChart {\r\n      width: 100%;\r\n      height: 70%;\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n\r\n      .vue-apexcharts {\r\n        width: 100%;\r\n      }\r\n    }\r\n\r\n    .last-container {\r\n      width: 100%;\r\n      height: 30%;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import script from \"./ChatView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ChatView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ChatView.vue?vue&type=style&index=0&id=045257ae&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-045257ae\"]])\n\nexport default __exports__","<script setup>\r\nimport { getBranch } from \"@/utils/branches\";\r\n\r\n\r\nimport {  onMounted, ref } from \"vue\";\r\nconst branches = ref([]);\r\n\r\n\r\n\r\n// const filterKeyword = ref(\"all\");\r\n\r\nconst unFold = (id) => {\r\n  const item = branches.value.find((e) => e.id === id);\r\n  item.fold = !item.fold;\r\n};\r\n\r\n\r\nconst getBranches = async(value) => { \r\n    branches.value = await getBranch(value);\r\n\r\n      // Calculate onlineSize for each branch\r\n      branches.value.map((element) => {\r\n        let online = 0;\r\n        element.children.forEach((el) => {\r\n          if (el.ONN === 1) {\r\n            online += 1;\r\n          }\r\n        });\r\n        element.onlineSize = online;\r\n        element.fold =value? true: false;\r\n      });\r\n    \r\n};\r\n\r\n\r\n// const filterOnline = async()=>{\r\n//   const token = localStorage.getItem(\"authToken\");\r\n//   const result = await axios\r\n//     .get(`http://${host}:${port}/api/v1/branches?type=online`, {\r\n//       headers: {\r\n//         bearer: token,\r\n//       },\r\n//     })\r\n//     console.log(result.data)\r\n//     branches.value = result.data.rows;\r\n\r\n//       // Calculate onlineSize for each branch\r\n//       branches.value.map((element) => {\r\n//         let online = 0;\r\n//         element.children.forEach((el) => {\r\n//           if (el.ONN === 1) {\r\n//             online += 1;\r\n//           }\r\n//         });\r\n//         element.onlineSize = online;\r\n//         element.fold = true;\r\n//       });\r\n// }\r\n// const filterOffline = async()=>{\r\n//   const token = localStorage.getItem(\"authToken\");\r\n//   const result = await axios\r\n//     .get(`http://${host}:${port}/api/v1/branches?type=offline`, {\r\n//       headers: {\r\n//         bearer: token,\r\n//       },\r\n//     })\r\n//     branches.value = result.data.rows;\r\n\r\n//       // Calculate onlineSize for each branch\r\n//       branches.value.map((element) => {\r\n//         let online = 0;\r\n//         element.children.forEach((el) => {\r\n//           if (el.ONN === 1) {\r\n//             online += 1;\r\n//           }\r\n//         });\r\n//         element.onlineSize = online;\r\n//         element.fold = true;\r\n//       });\r\n// }\r\n\r\n\r\n\r\n\r\n\r\n\r\nonMounted(() => {\r\n  getBranches();\r\n \r\n});\r\n</script>\r\n<template>\r\n  <div class=\"server-container\">\r\n    <div class=\"server-container\">\r\n      <div class=\"controls flex text-white\">\r\n        <div class=\"control\">\r\n          <button\r\n            type=\"button\"\r\n            @click=\"getBranches()\"\r\n            class=\"btn btn-secondary\"\r\n          >\r\n            Все\r\n          </button>\r\n        </div>\r\n        <div class=\"control\">\r\n          <button\r\n            type=\"button\"\r\n            @click=\"getBranches('online')\"\r\n            class=\"btn btn-success\"\r\n          >\r\n            Доступные\r\n          </button>\r\n        </div>\r\n        <div class=\"control\">\r\n          <button\r\n            type=\"button\"\r\n            @click=\"getBranches('offline')\"\r\n            class=\"btn btn-danger\"\r\n          >\r\n            Недоступные\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div class=\"drop\">\r\n        <div class=\"title-drop\">\r\n          <div>Название</div>\r\n          <div class=\"text-center\">Статус</div>\r\n          <div>Количество доступных/всего</div>\r\n        </div>\r\n        <div\r\n          v-for=\"branch in branches\"\r\n          :key=\"branch.id\"\r\n          @click=\"unFold(branch.id)\"\r\n          class=\"drop-item\"\r\n        >\r\n          <div class=\"notfold\">\r\n            <div class=\"item-name\">\r\n              <i  class=\"fa-solid fa-plus mx-4\"></i>\r\n              <!-- <i v-if=\"branch.fold\" class=\"fas fa-minus mx-4\"></i> -->\r\n              {{ branch.F_NAME }}\r\n            </div>\r\n            <div class=\"item-status\"></div>\r\n            <div class=\"item-amount\">\r\n              {{ branch.onlineSize }}/{{ branch.children.length }}\r\n            </div>\r\n          </div>\r\n          <div v-if=\"branch.fold\" class=\"unfold\">\r\n            <div\r\n              class=\"unfold-item\"\r\n              v-for=\"child in branch.children\"\r\n              :key=\"child.id\"\r\n            >\r\n              <div class=\"unfold-name\">{{ child.F_NAME }}</div>\r\n              <div v-if=\"child.ONN === 1\" class=\"unfold-status text-green-600\">\r\n               <i> {{ \"Доступно\" }}</i>\r\n              </div>\r\n              <div v-else class=\"unfold-status text-red-600\">\r\n               <i> {{ \"Нет соединения\" }}</i>\r\n              </div>\r\n              <div class=\"unfold-amount\"></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<style lang=\"scss\" scoped>\r\n.server-container {\r\n  padding: 1rem;\r\n}\r\n.control {\r\n  margin: 0.5rem;\r\n}\r\n.drop {\r\n  margin: 1rem auto;\r\n  .title-drop {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    margin: .5rem;\r\n    padding: 1rem;\r\n    width: 100%;\r\n    text-align: center;\r\n    div {\r\n      width: 100%;\r\n    }\r\n  }\r\n  .drop-item {\r\n    cursor: pointer;\r\n    width: 100%;\r\n    margin: .5rem 0.5rem;\r\n    padding: .6rem;\r\n    background-color: rgba(244, 244, 244, 0.675);\r\n    border-radius: .5rem;\r\n    box-shadow: 2px 2px 5px 0px rgba(0, 0, 0, 0.5);\r\n  \r\n    .notfold {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      div {\r\n        width: 100%;\r\n      }\r\n      .item-name {\r\n        display: flex;\r\n\r\n        align-items: center;\r\n        text-align: center;\r\n      }\r\n    }\r\n\r\n    .unfold {\r\n      margin-top: 1rem;\r\n      width: 100%;\r\n      .unfold-item {\r\n        display: flex;\r\n        background-color: rgba(255, 255, 255, 0.787);\r\n        margin: .5rem;\r\n        padding: .3rem;\r\n        border-radius: .5rem;\r\n        justify-content: space-between;\r\n        div {\r\n          width: 100%;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import script from \"./ServersView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ServersView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ServersView.vue?vue&type=style&index=0&id=0b4a391a&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0b4a391a\"]])\n\nexport default __exports__","<script setup>\r\nimport { fetchUsers } from \"@/utils/user\";\r\nimport { onMounted, ref, } from \"vue\";\r\n\r\nimport { deleteUser, createUser } from \"@/utils/user\";\r\n\r\n// const users = ref([]);\r\n\r\nconst search = ref(\"\");\r\nconst headers = ref([\r\n    { key: \"action\", title: \"Действия\", align: \"center\", sortable: false, },\r\n    { align: \"center\", key: \"login\", title: \"Имя пользователя\", },\r\n    { key: \"password\", title: \"Пароль\", align: \"center\" },\r\n    { key: \"firstname\", title: \"Имя\", align: \"center\" },\r\n    { key: \"lastname\", title: \"Фамилия\", align: \"center\" },\r\n    { key: \"id_branch\", title: \"Отделения\", align: \"center\" },\r\n    { key: \"ins_date\", title: \"Дата добавления\", align: \"center\" },\r\n    { key: \"sign_in_date\", title: \"Дата последнего посещения\", align: \"center\" },\r\n\r\n]);\r\nconst desserts = ref([]);\r\n\r\nconst createObject = ref({\r\n    username: \"\",\r\n    password: \"\",\r\n    id_branch: \"\",\r\n})\r\n\r\n\r\n// const showModal = ref(false)\r\n\r\nconst getUsers = async () => {\r\n    const result = await fetchUsers();\r\n    console.log(result.data.data);\r\n    const usersArray = result.data.data.users;\r\n    desserts.value = usersArray;\r\n    // const deleteButton = document.createElement(\"button\");\r\n    // deleteButton.innerText = \"Delete\";\r\n    // desserts.value.map(e=>{\r\n    //     e.action = deleteButton;\r\n    // })\r\n    // console.log(desserts.value)\r\n}\r\n\r\nconst deleteUserFun = async (id) => {\r\n    const result = await deleteUser(id);\r\n    desserts.value = desserts.value.filter(e => e.id !== id);\r\n    console.log(result);\r\n}\r\n// const update = async (id) => {\r\n//     id\r\n// }\r\n\r\nconst create = async () => {\r\n    await createUser(createObject.value);\r\n    desserts.value.push(createObject.value);\r\n    createObject.value = {\r\n        username: \"\",\r\n        password: \"\",\r\n        id_branch: \"\",\r\n    }\r\n}\r\n\r\n\r\n\r\n// const filteredHeaders = computed(() => headers.value.filter(header => header.key !== 'action'));\r\n\r\n\r\nonMounted(() => {\r\n    getUsers();\r\n})\r\n\r\n\r\n\r\n</script>\r\n\r\n\r\n<template>\r\n    <main>\r\n        <div class=\"user-container\">\r\n            <h3>Пользователи</h3>\r\n            <!-- Button trigger modal -->\r\n            <button type=\"button\" class=\"btn btn-primary float-left text-white\" data-bs-toggle=\"modal\"\r\n                data-bs-target=\"#exampleModal\">\r\n                Добавить\r\n            </button>\r\n\r\n            <!-- Modal -->\r\n            <div class=\"modal fade\" id=\"exampleModal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\"\r\n                aria-hidden=\"true\">\r\n                <div class=\"modal-dialog\">\r\n                    <div class=\"modal-content\">\r\n                        <div class=\"modal-header\">\r\n                            <h1 class=\"modal-title fs-5\" id=\"exampleModalLabel\">Создание пользователя</h1>\r\n                            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n                        </div>\r\n                        <div class=\"modal-body\">\r\n                            <!-- <form @submit.prevent=\"createUser()\"> -->\r\n                            <div class=\"form-floating mb-3\">\r\n                                <input v-model=\"createObject.username\" type=\"text\" class=\"form-control\"\r\n                                    id=\"floatingInput\" placeholder=\"name@example.com\">\r\n                                <label for=\"floatingInput\">Имя пользователя</label>\r\n                            </div>\r\n                            <div class=\"form-floating\">\r\n                                <input v-model=\"createObject.password\" type=\"password\" class=\"form-control\"\r\n                                    id=\"floatingPassword\" placeholder=\"Password\">\r\n                                <label for=\"floatingPassword\">Пароль</label>\r\n                            </div>\r\n                            <div class=\"form-floating mb-3\">\r\n                                <input v-model=\"createObject.id_branch\" type=\"text\" class=\"form-control\"\r\n                                    id=\"floatingInput\">\r\n                                <label for=\"floatingInput\">Отделения</label>\r\n                            </div>\r\n\r\n                            <!-- </form> -->\r\n                        </div>\r\n                        <div class=\"modal-footer\">\r\n                            <button type=\"button\" class=\"btn btn-secondary text-white\"\r\n                                data-bs-dismiss=\"modal\">Закрыть</button>\r\n                            <butto @click=\"create()\" type=\"button\" class=\"btn btn-primary text-white\">Создать</butto>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"users\">\r\n\r\n                <v-card flat title=\"\">\r\n\r\n                    <template v-slot:text>\r\n                        <v-text-field v-model=\"search\" label=\"Искать\" prepend-inner-icon=\"mdi-magnify\" single-line\r\n                            variant=\"outlined\" hide-details></v-text-field>\r\n                    </template>\r\n\r\n                    <v-data-table :headers=\"headers\" :items=\"desserts\" :search=\"search\">\r\n                        <template v-slot:item=\"{ item }\">\r\n                            <tr>\r\n                                <td>\r\n                                    <v-btn class=\"w-24\" fab dark small color=\"red\"\r\n                                        @click=\"deleteUserFun(item.id)\">Удалить</v-btn>\r\n                                </td>\r\n                                <td>\r\n                                    {{ item.login }}\r\n                                </td>\r\n                                <td>\r\n                                    {{ item.password }}\r\n                                </td>\r\n                                <td>\r\n                                    {{ item.firstname }}\r\n                                </td>\r\n                                <td>\r\n                                    {{ item.lastname }}\r\n                                </td>\r\n                                <td>\r\n                                    {{ item.id_branch }}\r\n                                </td>\r\n                                <td>\r\n                                    {{ item.ins_date }}\r\n                                </td>\r\n                                <td>\r\n                                    {{ item.sign_in_date }}\r\n                                </td>\r\n                            </tr>\r\n                            <!-- <v-btn class=\"w-24\" fab dark small color=\"green\"  @click=\"update(item.id)\">Изменить</v-btn> -->\r\n                        </template>\r\n                    </v-data-table>\r\n                </v-card>\r\n            </div>\r\n        </div>\r\n    </main>\r\n</template>\r\n<style lang=\"scss\" scoped>\r\ntd,td{\r\n    text-align: center;\r\n}\r\n.user-container {\r\n\r\n    width: 100%;\r\n    height: 100%;\r\n    padding: 1rem;\r\n\r\n    .users {\r\n        width: 100%;\r\n        height: 100%;\r\n        display: flex;\r\n        flex-direction: column;\r\n\r\n        .user {\r\n            width: 100%;\r\n            padding: 1rem;\r\n\r\n            border-radius: 10px;\r\n            margin: 0.5rem;\r\n            box-shadow: 10px 10px 20px -5px rgba(0, 0, 0, 0.5);\r\n\r\n        }\r\n    }\r\n\r\n}\r\n</style>","import script from \"./UsersView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./UsersView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./UsersView.vue?vue&type=style&index=0&id=338e1a55&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-338e1a55\"]])\n\nexport default __exports__","\r\n<script setup>\r\n// KGD\r\nimport axios from \"axios\";\r\nimport { onBeforeMount,  ref } from \"vue\";\r\nimport { useStore } from \"vuex\";\r\n\r\nimport {getBranch} from \"@/utils/branches\";\r\n\r\nconst store = useStore();\r\n\r\nconst branches = ref([]);\r\nconst isUgd = ref(true);\r\n\r\n// const menuValue = ref(\"\");\r\n\r\nconst host = process.env.VUE_APP_SERVER_HOST;\r\nconst port = process.env.VUE_APP_SERVER_PORT;\r\n\r\n// const apexChart = ref(null);\r\n\r\nconst unFold = (id) => {\r\n  const item = branches.value.find((e) => e.id === id);\r\n  item.fold = !item.fold;\r\n};\r\n\r\nconst getBranches = async () => {\r\n  \r\n  const result = await getBranch();\r\n  branches.value = result;\r\n  branches.value = branches.value.map((branch) => {\r\n    if (branch.children.length > 1) {\r\n      isUgd.value = false;\r\n    }\r\n    // Map over the children array and modify each child object\r\n    const currentRole = localStorage.getItem(\"role\") * 1;\r\n    const blockedByRole = branch.blocked_by;\r\n    const blocked = branch.blocked;\r\n    // console.log(\"current\", typeof currentRole);\r\n    // console.log(\"blocked\", blockedByRole);\r\n    if (blocked === 1) {\r\n      branch.isSwitchable =\r\n        currentRole === 2 && blockedByRole === 0\r\n          ? false\r\n          : currentRole === 3 && blockedByRole === 2\r\n            ? false\r\n            : true;\r\n    } else branch.isSwitchable = true;\r\n\r\n    branch.children.map((child) => {\r\n      const blockedByRole = child.blocked_by;\r\n      const blocked = child.blocked;\r\n\r\n      child.isAvailable = false;\r\n      child.menu = \"first\";\r\n      // Create a new object with the existing attributes and the new attribute\r\n      if (blocked === 1) {\r\n        child.isSwitchable =\r\n          currentRole === 2 && blockedByRole === 0\r\n            ? false\r\n            : currentRole === 3 && blockedByRole === 2\r\n              ? false : currentRole === 3 && blockedByRole === 0 ? false\r\n                : true;\r\n      } else child.isSwitchable = true;\r\n    });\r\n\r\n    // Return the modified branch object\r\n    return branch;\r\n  });\r\n\r\n\r\n\r\n  // console.log(branches.value);\r\n  try {\r\n    const available = await axios.get(\r\n      `http://${host}:${port}/api/v1/branch-list`,\r\n      {\r\n        headers: {\r\n          bearer: localStorage.getItem(\"authToken\"),\r\n        },\r\n      }\r\n    );\r\n    // console.log(available.data);\r\n    branches.value.map((branch) => {\r\n      branch.children.map((ch) => {\r\n        const av = available.data.find((e) => e.branchId === ch.F_ID);\r\n        if (av) {\r\n          ch.isAvailable = true;\r\n          ch.menu = av.brtype;\r\n          // console.log(av.brtype);\r\n        }\r\n      });\r\n    });\r\n    // console.log(branches.value)\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n\r\n};\r\n\r\nconst setBlock = async (branchId, blockedValue) => {\r\n  // console.log(branchId)\r\n  let url = `http://${host}:${port}/api/v1/branch-list/block/${branchId}`;\r\n  if (blockedValue === 1) {\r\n    url += `?value=0`;\r\n  } else {\r\n\r\n    url += `?value=1`;\r\n    \r\n  }\r\n   branches.value.map(branch=>{\r\n    if(branch.F_ID === branchId){\r\n      \r\n      branch.children.map(ch=>{\r\n        ch.isAvailable = !ch.isAvailable;\r\n        ch.isSwitchable = !ch.isSwitchable;\r\n        ch.blocked = ch.blocked === 0 ? 1 :0;\r\n      })\r\n    }\r\n   });\r\n  //  console.log(branches.value)\r\n   \r\n  // console.log(parent)\r\n  const token = localStorage.getItem(\"authToken\");\r\n  try {\r\n     await axios.post(url, null, {\r\n      headers: {\r\n        bearer: token,\r\n      },\r\n    });\r\n    // console.log(result);\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nconst getUsername = () => {\r\n  return store.getters.username;\r\n};\r\n\r\nconst changeMenu = async (id, menu) => {\r\n  // console.log(id, menu)\r\n  const url = `http://${host}:${port}/api/v1/branch-list/${id}`;\r\n  try {\r\n    await axios.post(url,\r\n      {\r\n        menuValue: menu\r\n      }, {\r\n      headers: {\r\n        bearer: localStorage.getItem(\"authToken\")\r\n      }\r\n    });\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n\r\n\r\n}\r\n\r\n// const getChartMenuType = async()=>{\r\n//   const url =  `http://${host}:${port}/api/v1/branch-list/br/type`;\r\n//   const result = await axios.get(url, {\r\n//     headers: {\r\n//       bearer: localStorage.getItem(\"authToken\")\r\n//     },\r\n//   });\r\n//   console.log(result);\r\n  \r\n// }\r\n\r\n// const options = ref({\r\n//   chart: {\r\n//     height: 450,\r\n//     type: 'rangeBar'\r\n//   },\r\n//   plotOptions: {\r\n//     bar: {\r\n//       horizontal: true,\r\n//       barHeight: '80%'\r\n//     }\r\n//   },\r\n//   xaxis: {\r\n//     type: 'datetime'\r\n//   },\r\n//   stroke: {\r\n//     width: 1\r\n//   },\r\n//   fill: {\r\n//     type: 'solid',\r\n//     opacity: 0.6\r\n//   },\r\n//   legend: {\r\n//     position: 'top',\r\n//     horizontalAlign: 'left'\r\n//   }\r\n\r\n// });\r\n// const series = ref([\r\n//   {\r\n//     name: 'Bob',\r\n//     data: [\r\n//       {\r\n//         x: 'Design',\r\n//         y: [\r\n//           new Date('2019-03-05').getTime(),\r\n//           new Date('2019-03-08').getTime()\r\n//         ]\r\n//       },\r\n//       {\r\n//         x: 'Code',\r\n//         y: [\r\n//           new Date('2019-03-02').getTime(),\r\n//           new Date('2019-03-05').getTime()\r\n//         ]\r\n//       },\r\n//       {\r\n//         x: 'Code',\r\n//         y: [\r\n//           new Date('2019-03-05').getTime(),\r\n//           new Date('2019-03-07').getTime()\r\n//         ]\r\n//       },\r\n//       {\r\n//         x: 'Test',\r\n//         y: [\r\n//           new Date('2019-03-03').getTime(),\r\n//           new Date('2019-03-09').getTime()\r\n//         ]\r\n//       },\r\n//       {\r\n//         x: 'Test',\r\n//         y: [\r\n//           new Date('2019-03-08').getTime(),\r\n//           new Date('2019-03-11').getTime()\r\n//         ]\r\n//       },\r\n//       {\r\n//         x: 'Validation',\r\n//         y: [\r\n//           new Date('2019-03-11').getTime(),\r\n//           new Date('2019-03-16').getTime()\r\n//         ]\r\n//       },\r\n//       {\r\n//         x: 'Design',\r\n//         y: [\r\n//           new Date('2019-03-01').getTime(),\r\n//           new Date('2019-03-03').getTime()\r\n//         ],\r\n//       }\r\n//     ]\r\n//   },\r\n//   {\r\n//     name: 'Joe',\r\n//     data: [\r\n//       {\r\n//         x: 'Design',\r\n//         y: [\r\n//           new Date('2019-03-02').getTime(),\r\n//           new Date('2019-03-05').getTime()\r\n//         ]\r\n//       },\r\n//       {\r\n//         x: 'Test',\r\n//         y: [\r\n//           new Date('2019-03-06').getTime(),\r\n//           new Date('2019-03-16').getTime()\r\n//         ],\r\n//         goals: [\r\n//           {\r\n//             name: 'Break',\r\n//             value: new Date('2019-03-10').getTime(),\r\n//             strokeColor: '#CD2F2A'\r\n//           }\r\n//         ]\r\n//       },\r\n//       {\r\n//         x: 'Code',\r\n//         y: [\r\n//           new Date('2019-03-03').getTime(),\r\n//           new Date('2019-03-07').getTime()\r\n//         ]\r\n//       },\r\n//       {\r\n//         x: 'Deployment',\r\n//         y: [\r\n//           new Date('2019-03-20').getTime(),\r\n//           new Date('2019-03-22').getTime()\r\n//         ]\r\n//       },\r\n//       {\r\n//         x: 'Design',\r\n//         y: [\r\n//           new Date('2019-03-10').getTime(),\r\n//           new Date('2019-03-16').getTime()\r\n//         ]\r\n//       }\r\n//     ]\r\n//   },\r\n//   {\r\n//     name: 'Dan',\r\n//     data: [\r\n//       {\r\n//         x: 'Code',\r\n//         y: [\r\n//           new Date('2019-03-10').getTime(),\r\n//           new Date('2019-03-17').getTime()\r\n//         ]\r\n//       },\r\n//       {\r\n//         x: 'Validation',\r\n//         y: [\r\n//           new Date('2019-03-05').getTime(),\r\n//           new Date('2019-03-09').getTime()\r\n//         ],\r\n//         goals: [\r\n//           {\r\n//             name: 'Break',\r\n//             value: new Date('2019-03-07').getTime(),\r\n//             strokeColor: '#CD2F2A'\r\n//           }\r\n//         ]\r\n//       },\r\n//     ]\r\n//   }\r\n// ]);\r\n\r\n\r\n\r\nonBeforeMount(()=>{\r\n  console.log(getUsername());\r\n  getBranches();\r\n  // getChartMenuType();\r\n})\r\n\r\n</script>\r\n<template>\r\n  <div class=\"server-container\">\r\n    <div class=\"server-container\">\r\n      <div class=\"drop\">\r\n        <div class=\"title-drop\">\r\n          <div>Название</div>\r\n          <div class=\"text-center\">Меню</div>\r\n          <div class=\"text-center\">Действие блок</div>\r\n        </div>\r\n        <div v-for=\"branch in branches\" :key=\"branch.id\" class=\"drop-item\">\r\n          <div class=\"notfold\" >\r\n            <div @click=\"unFold(branch.id)\" class=\"item-name w-4/6\">\r\n              <i   class=\"fas fa-plus mx-4\"></i>\r\n             \r\n              {{ branch.F_NAME }}\r\n            </div>\r\n            \r\n            <div class=\"item-amount w-2/6\">\r\n              <div v-if=\"!isUgd\" class=\"form-switch\">\r\n                <input @change=\"setBlock(branch.F_ID, branch.blocked)\" :disabled=\"branch.isSwitchable === false\"\r\n                  class=\"form-check-input\" type=\"checkbox\" role=\"switch\" id=\"flexSwitchCheckChecked\"\r\n                  :checked=\"branch.blocked === 1\" />\r\n                <label class=\"form-check-label mx-4\" for=\"flexSwitchCheckChecked\">Блокировка меню</label>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div v-if=\"branch.fold\" class=\"unfold\">\r\n            <div class=\"unfold-item\" v-for=\"child in branch.children\" :key=\"child.id\">\r\n              <div class=\"unfold-name\">{{ child.F_NAME }}</div>\r\n              \r\n              <div class=\"unfold-amount\">\r\n                <select v-model=\"child.menu\" @change=\"changeMenu(child.F_ID, child.menu)\"\r\n                  :disabled=\"branch.blocked === 1 || !child.isSwitchable || !child.isAvailable\" class=\"form-select\"\r\n                  aria-label=\"Default select example\">\r\n                  <option value=\"first\" :selected=\"child.menu === 'first'\">\r\n                    Автоматическое\r\n                  </option>\r\n                  <option value=\"second\" :selected=\"child.meny === 'second'\">Меню-2</option>\r\n                </select>\r\n              </div>\r\n              <div class=\"form-switch\">\r\n                <input @change=\"setBlock(child.F_ID, child.blocked)\" class=\"form-check-input\" type=\"checkbox\"\r\n                  role=\"switch\" id=\"flexSwitchCheckChecked\"\r\n                  :disabled=\"branch.blocked === 1 || child.isSwitchable === false\"\r\n                  :checked=\"branch.blocked === 1 || child.isSwitchable === false\" />\r\n                <label class=\"form-check-label mx-4\" for=\"flexSwitchCheckChecked\">Блокировка меню</label>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"changer-chart\">\r\n        <!-- <apexchart ref=\"apexChart\" :height=\"400\" :options=\"options\" :series=\"series\"></apexchart> -->\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n<style lang=\"scss\" scoped>\r\n.server-container {\r\n  padding: 1rem;\r\n}\r\n\r\n.control {\r\n  margin: 0.5rem;\r\n}\r\n\r\n.drop {\r\n  margin: 1rem auto;\r\n\r\n  .title-drop {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    margin: 1rem;\r\n    width: 100%;\r\n    text-align: center;\r\n\r\n    div {\r\n      width: 100%;\r\n    }\r\n  }\r\n\r\n  .drop-item {\r\n    cursor: pointer;\r\n    width: 100%;\r\n    margin: 0.5rem 0.5rem;\r\n    padding: 0.6rem;\r\n    background-color: rgba(244, 244, 244, 0.675);\r\n    border-radius: 0.5rem;\r\n    box-shadow: 2px 2px 5px 0px rgba(0, 0, 0, 0.5);\r\n\r\n    .notfold {\r\n      display: flex;\r\n      justify-content: space-between;\r\n\r\n     \r\n\r\n      .item-name {\r\n        display: flex;\r\n\r\n        align-items: center;\r\n        text-align: center;\r\n      }\r\n    }\r\n\r\n    .unfold {\r\n      margin-top: 1rem;\r\n      width: 100%;\r\n\r\n      .unfold-item {\r\n        display: flex;\r\n\r\n        justify-content: space-around;\r\n        background-color: rgba(255, 255, 255, 0.787);\r\n        margin: 0.5rem;\r\n        padding: 0.3rem;\r\n        border-radius: 0.5rem;\r\n\r\n        div {\r\n          margin: 1rem;\r\n          width: 100%;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import script from \"./ChangerMenu.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ChangerMenu.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ChangerMenu.vue?vue&type=style&index=0&id=51c7bdda&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-51c7bdda\"]])\n\nexport default __exports__","<script setup>\r\n\r\n//NOT USED\r\nimport { onMounted, ref } from \"vue\";\r\nconst branches = ref([]);\r\n\r\nimport { getBranch } from \"@/utils/branches\"\r\n\r\nconst unFold = (id) => {\r\n  const item = branches.value.find((e) => e.id === id);\r\n  item.fold = !item.fold;\r\n};\r\n\r\nconst getBranches = async () => {\r\n\r\n  branches.value = getBranch();\r\n\r\n\r\n};\r\n\r\n\r\n\r\nonMounted(() => {\r\n  getBranches();\r\n});\r\n</script>\r\n<template>\r\n  <div class=\"server-container\">\r\n    <div class=\"server-container\">\r\n      <div class=\"drop\">\r\n\r\n        <div v-for=\"branch in branches\" :key=\"branch.id\" class=\"drop-item\">\r\n          <div class=\"notfold\" @click=\"unFold(branch.id)\">\r\n            <div class=\"item-name\">\r\n              <i class=\"fa-solid fa-plus mx-4\"></i>\r\n              <!-- <i v-if=\"branch.fold\" class=\"fas fa-minus mx-4\"></i> -->\r\n              {{ branch.F_NAME }}\r\n            </div>\r\n            <div class=\"item-status\"></div>\r\n            <div class=\"item-amount\">\r\n            </div>\r\n          </div>\r\n          <div v-if=\"branch.fold\" class=\"unfold\">\r\n            <div class=\"unfold-item\" v-for=\"child in branch.children\" :key=\"child.id\">\r\n              <div class=\"unfold-name\">{{ child.F_NAME }}</div>\r\n              <!-- <div v-if=\"child.ONN === 1\" class=\"unfold-status text-green-600\">\r\n                {{ \"Меню-1\" }}\r\n              </div>\r\n              <div v-else class=\"unfold-status text-red-600\">\r\n                {{ \"Меню-2\" }}\r\n              </div> -->\r\n              <div class=\"unfold-amount\">\r\n                <button type=\"button\" class=\"btn btn-success text-white\">Подключиться</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<style lang=\"scss\" scoped>\r\n.server-container {\r\n  padding: 1rem;\r\n}\r\n\r\n.control {\r\n  margin: 0.5rem;\r\n}\r\n\r\n.drop {\r\n  margin: 1rem auto;\r\n\r\n  .title-drop {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    margin: 0.5rem;\r\n    width: 100%;\r\n    text-align: center;\r\n\r\n    div {\r\n      width: 100%;\r\n    }\r\n  }\r\n\r\n  .drop-item {\r\n    cursor: pointer;\r\n    width: 100%;\r\n    margin: .5rem 0.5rem;\r\n    padding: .6rem;\r\n    background-color: rgba(244, 244, 244, 0.675);\r\n    border-radius: .5rem;\r\n    box-shadow: 2px 2px 5px 0px rgba(0, 0, 0, 0.5);\r\n\r\n    .notfold {\r\n      display: flex;\r\n      justify-content: space-between;\r\n\r\n      div {\r\n        width: 100%;\r\n      }\r\n\r\n      .item-name {\r\n        display: flex;\r\n\r\n        align-items: center;\r\n        text-align: center;\r\n      }\r\n    }\r\n\r\n    .unfold {\r\n      margin-top: 1rem;\r\n      width: 100%;\r\n\r\n      .unfold-item {\r\n        display: flex;\r\n\r\n        justify-content: space-between;\r\n        background-color: rgba(255, 255, 255, 0.787);\r\n        margin: .5rem;\r\n        padding: .3rem;\r\n        border-radius: .5rem;\r\n\r\n        div {\r\n          width: 100%;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import script from \"./CameraView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./CameraView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./CameraView.vue?vue&type=style&index=0&id=a259d37c&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-a259d37c\"]])\n\nexport default __exports__","<script>\r\nimport { mapActions, mapGetters } from 'vuex';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      username: \"\",\r\n      password: \"\",\r\n      isError: false,\r\n      errorMessage: \"\",\r\n      text:\"sc\"\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters(['errorMessage']),\r\n  },\r\n  methods: {\r\n    ...mapActions(['login']),\r\n    async onSubmit() {\r\n      const loginSuccess = await this.login({ username: this.username, password: this.password, type:this.text });\r\n      if (loginSuccess) {\r\n        this.$router.push(\"/\");\r\n      } else {\r\n        this.isError = true;\r\n        this.errorMessage = \"Неверное имя пользователя или пароль\";\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<template>\r\n  <main>\r\n    <div class=\"login-container\">\r\n      <div class=\"left-side\">\r\n        <div class=\"login-title\">Авторизация</div>\r\n        <div class=\"form\">\r\n          <div class=\"inputs px-4 \">\r\n            <div class=\"loginTypes flex \">\r\n              <v-btn-toggle v-model=\"text\" color=\"deep-purple-accent-3\" rounded=\"0\" group>\r\n                <v-btn value=\"sc\" variant=\"outlined\">\r\n                  Классическое\r\n                </v-btn>\r\n\r\n                 <!-- <v-btn value=\"op\" variant=\"outlined \">\r\n                  Оператор\r\n                </v-btn>  -->\r\n                <v-btn disabled value=\"nomad\" variant=\"outlined \">\r\n                  Пользователь Номада\r\n                </v-btn>\r\n\r\n                \r\n              </v-btn-toggle>\r\n            </div>\r\n            <form @submit.prevent=\"onSubmit\">\r\n              <div class=\"form-floating mb-3\">\r\n                <input v-model=\"username\" type=\"text\" class=\"form-control\" id=\"floatingInput\"\r\n                  placeholder=\"name@example.com\">\r\n                <label for=\"floatingInput\">Имя пользователя</label>\r\n              </div>\r\n              <div class=\"form-floating\">\r\n                <input v-model=\"password\" type=\"password\" class=\"form-control\" id=\"floatingPassword\"\r\n                  placeholder=\"Password\">\r\n                <label for=\"floatingPassword\">Пароль</label>\r\n              </div>\r\n              <input value=\"Вход\" type=\"submit\" class=\"btn btn-primary text-white\" />\r\n              <p v-if=\"isError\" class=\"error-mess p-2 text-red-600 text-lg\">{{ errorMessage }}</p>\r\n            </form>\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n      <div class=\"right-side\">\r\n        <div class=\"logoImg\">\r\n          <img src=\"../assets/logo.png\" alt=\"\" />\r\n        </div>\r\n        <div class=\"logoText\">Ситуационный центр</div>\r\n      </div>\r\n    </div>\r\n  </main>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n// Styles...\r\n</style>\r\n\r\n<style lang=\"scss\" scoped>\r\nmain {\r\n  width: 100%;\r\n  height: 100vh;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: rgb(221, 221, 221);\r\n\r\n  .login-container {\r\n    width: 100%;\r\n    height: 100%;\r\n    display: flex;\r\n\r\n    .left-side {\r\n      width: 50%;\r\n      height: 100%;\r\n      background-color: white;\r\n\r\n      .form {\r\n        .inputs {\r\n          padding: 1rem;\r\n          border-radius: 1rem;\r\n        }\r\n      }\r\n\r\n      .login-title {\r\n        height: 20%;\r\n       \r\n        font-size: 1.5rem;\r\n        font-weight: bold;\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n      }\r\n\r\n      .form {\r\n        height: 80%;\r\n\r\n        div {\r\n          margin: 2rem auto;\r\n        }\r\n      }\r\n    }\r\n\r\n    .right-side {\r\n      background-color:  #9c2550;\r\n      width: 50%;\r\n      height: 100%;\r\n\r\n      .logoImg {\r\n        height: 50%;\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n      }\r\n\r\n      .logoText {\r\n        color: white;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import { render } from \"./LoginView.vue?vue&type=template&id=fcfefb50&scoped=true\"\nimport script from \"./LoginView.vue?vue&type=script&lang=js\"\nexport * from \"./LoginView.vue?vue&type=script&lang=js\"\n\nimport \"./LoginView.vue?vue&type=style&index=0&id=fcfefb50&lang=scss&scoped=true\"\nimport \"./LoginView.vue?vue&type=style&index=1&id=fcfefb50&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-fcfefb50\"]])\n\nexport default __exports__","<script setup>\r\nimport { onMounted, ref } from \"vue\";\r\n\r\nimport nonPhoto from \"@/assets/avatart.jpg\";\r\n\r\nimport { fetchUserInfo, update, upload } from \"@/utils/user\"\r\nimport { ROOT_URL } from \"@/utils/api\";\r\n\r\nconst isDisabled = ref(true);\r\n\r\nconst userInfo = ref({\r\n    username: '',\r\n    password: '',\r\n    email: '',\r\n    firstname: '',\r\n    lastname: '',\r\n    image: '',\r\n})\r\n\r\n\r\nconst selectedFile = ref('');\r\n// const selectedFileName = ref('');\r\n\r\nconst getInfo = async () => {\r\n    const id = localStorage.getItem(\"id\")*1;\r\n    const result = await fetchUserInfo(id);\r\n    userInfo.value = {\r\n        username: result.data.user[0].login,\r\n        password: result.data.user[0].password,\r\n        email: result.data.user[0].email,\r\n        firstname: result.data.user[0].firstname ?? \"НЕТ\",\r\n        lastname: result.data.user[0].lastname ?? \"НЕТ\",\r\n        image: localStorage.getItem('image') ?? nonPhoto,\r\n    }\r\n\r\n    console.log(result);\r\n}\r\n\r\nconst handleFileChange = (event) => {\r\n    selectedFile.value = event.target.files[0];\r\n\r\n};\r\nconst uploadImage = async () => {\r\n    const formData = new FormData();\r\n    formData.append(\"image\", selectedFile.value);\r\n\r\n    try {\r\n        const response = await upload(formData, userInfo.value.username);\r\n        if (response.ok) {\r\n            console.log(\"Image uploaded successfully\");\r\n            userInfo.value.image = `${ROOT_URL}/images/` + selectedFile.value.name;\r\n            localStorage.setItem(\"image\", userInfo.value.image);\r\n            // console.log(image.value)\r\n            // Perform any additional actions upon successful upload\r\n        } else {\r\n            console.error(\"Failed to upload image\");\r\n            // Handle error cases\r\n        }\r\n    } catch (error) {\r\n        console.error(\"Error uploading image:\", error);\r\n        // Handle network errors or other exceptions\r\n    }\r\n}\r\n\r\nconst updateInfo = async () => {\r\n    try {\r\n        const result = update(userInfo.value);\r\n        if (result) {\r\n            alert(\"Успешно\")\r\n        }\r\n        else {\r\n            alert(\"Ошибка\")\r\n        }\r\n\r\n        console.log(result);\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n\r\n}\r\nonMounted(() => {\r\n    getInfo();\r\n})\r\n\r\n</script>\r\n\r\n<template>\r\n    <main>\r\n        <div class=\"profile-container \">\r\n\r\n            <div class=\"profile-forms w-1/2 mx-auto\">\r\n                <h3 class=\"m-2\">Мой профиль</h3>\r\n\r\n                <div class=\"input-group\">\r\n                    <input @change=\"handleFileChange\" type=\"file\" class=\"form-control\" id=\"inputGroupFile04\"\r\n                        aria-describedby=\"inputGroupFileAddon04\" accept=\"image/*\" aria-label=\"Картинка\">\r\n                    <button @click=\"uploadImage()\" class=\"btn btn-outline-secondary\" type=\"button\"\r\n                        id=\"inputGroupFileAddon04\">Загрузить</button>\r\n                </div>\r\n                <form class=\"sendForm m-2\" @submit.prevent=\"updateInfo\">\r\n                    <div class=\"prof-image mx-auto\">\r\n                        <img :src=\"userInfo.image\" class=\"mx-auto my-10 rounded-full w-36\" alt=\"\">\r\n                    </div>\r\n                    <div class=\"input-group mb-3\">\r\n                        <span class=\"input-group-text\" id=\"inputGroup-sizing-default\">Логин</span>\r\n                        <input :disabled=\"isDisabled\" v-model=\"userInfo.username\" type=\"text\" class=\"form-control\"\r\n                            aria-label=\"Sizing example input\" aria-describedby=\"inputGroup-sizing-default\">\r\n                    </div>\r\n                    <div class=\"input-group mb-3\">\r\n                        <span class=\"input-group-text\" id=\"inputGroup-sizing-default\">Пароль</span>\r\n                        <input :disabled=\"isDisabled\" v-model=\"userInfo.password\" type=\"text\" class=\"form-control\"\r\n                            aria-label=\"Sizing example input\" aria-describedby=\"inputGroup-sizing-default\">\r\n                    </div>\r\n                    <div class=\"input-group mb-3\">\r\n                        <span class=\"input-group-text\" id=\"inputGroup-sizing-default\">Почта</span>\r\n                        <input :disabled=\"isDisabled\" v-model=\"userInfo.email\" type=\"text\" class=\"form-control\"\r\n                            aria-label=\"Sizing example input\" aria-describedby=\"inputGroup-sizing-default\">\r\n                    </div>\r\n                    <div class=\"input-group mb-3\">\r\n                        <span class=\"input-group-text\" id=\"inputGroup-sizing-default\">Имя</span>\r\n                        <input :disabled=\"isDisabled\" v-model=\"userInfo.firstname\" type=\"text\" class=\"form-control\"\r\n                            aria-label=\"Sizing example input\" aria-describedby=\"inputGroup-sizing-default\">\r\n                    </div>\r\n                    <div class=\"input-group mb-3\">\r\n                        <span class=\"input-group-text\" id=\"inputGroup-sizing-default\">Фамилия</span>\r\n                        <input :disabled=\"isDisabled\" v-model=\"userInfo.lastname\" type=\"text\" class=\"form-control\"\r\n                            aria-label=\"Sizing example input\" aria-describedby=\"inputGroup-sizing-default\">\r\n                    </div>\r\n                    <div class=\"input-group mt-5\">\r\n                        <input type=\"submit\" value=\"Сохранить\" class=\"btn btn-primary mx-auto text-white\" />\r\n\r\n                    </div>\r\n\r\n                </form>\r\n                <button @click=\"isDisabled = !isDisabled\" class=\"btn btn-primary mx-auto\">Изменить</button>\r\n            </div>\r\n        </div>\r\n    </main>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n.profile-container {\r\n    width: 100%;\r\n    height: 80vh;\r\n    margin-top: 1rem;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n\r\n    .profile-forms {\r\n\r\n        height: 100%;\r\n\r\n        .sendForm {\r\n            .input-group {\r\n                margin-top: .5rem;\r\n                margin-bottom: .5rem;\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n</style>","import script from \"./MyProfileView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./MyProfileView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./MyProfileView.vue?vue&type=style&index=0&id=19737978&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-19737978\"]])\n\nexport default __exports__","<script>\r\n\r\n\r\nimport pingreen from \"@/assets/pingreen.png\";\r\nimport pinred from \"@/assets/pinred.png\";\r\nimport { getBoardList, deleteBoard, createBoard } from \"@/utils/board\";\r\n\r\n// const colors = [\r\n//     {\r\n//         id: 1,\r\n//         hex: \"#e05c69\",\r\n//         role: 0\r\n//     },\r\n//     {\r\n//         id: 1,\r\n//         hex: \"#5ce0ae\",\r\n//         role: 2\r\n//     },\r\n//     {\r\n//         id: 1,\r\n//         hex: \"#5ca7e0\",\r\n//         role: 3\r\n//     }\r\n// ]\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            minRotation: 5,\r\n            maxRotation: -5,\r\n            list: [],\r\n            boardObject: {\r\n                title: \"\",\r\n                board_body: \"\",\r\n                valid_to: \"\",\r\n                role: localStorage.getItem(\"role\") * 1,\r\n            },\r\n        };\r\n    },\r\n    methods: {\r\n        async createBoard() {\r\n\r\n            if (this.boardObject.title === \"\" || this.boardObject.board_body === \"\") {\r\n                return alert(\"Некоторые поля остались пустыми\");\r\n            }\r\n            try {\r\n                const result = await createBoard(this.boardObject);\r\n\r\n\r\n                if (result.status === 200) {\r\n                    this.boardObject.created_at = new Date().toLocaleString(\"ru-RU\");\r\n                    this.boardObject.role =\r\n                        this.boardObject.role === 0\r\n                            ? \"admin\"\r\n                            : this.boardObject.role === 2\r\n                                ? \"dgd\"\r\n                                : \"ugd\";\r\n                    this.list.push(this.boardObject);\r\n                } else {\r\n                    alert(\"Больше двух объявлений\");\r\n                    console.log(\"Failed to add board. Status code:\", result.status);\r\n                    // Handle other status codes if needed\r\n                }\r\n\r\n                this.boardObject = {\r\n                    title: \"\",\r\n                    board_body: \"\",\r\n                    valid_to: \"\",\r\n                    role: localStorage.getItem(\"role\") * 1,\r\n                };\r\n            } catch (err) {\r\n                alert(\"Больше двух объявлений\");\r\n                console.log(err);\r\n            }\r\n        },\r\n\r\n        async getBoardList() {\r\n            try {\r\n                this.list = await getBoardList();\r\n                this.list.map((e) => {\r\n                    e.role = e.role === 0 ? \"admin\" : e.role === 2 ? \"dgd\" : \"ugd\";\r\n                });\r\n                // console.log(result.data.data)\r\n            } catch (err) {\r\n                console.log(err);\r\n            }\r\n        },\r\n        async deleteBoard(id) {\r\n            const deleted = await deleteBoard(id);\r\n            if (deleted) this.list = this.list.filter((board) => board.id !== id);\r\n            else alert(\"Нельзя удалить\");\r\n\r\n            // console.log(result.data.data)\r\n        },\r\n        generatePin() {\r\n            const images = [pingreen, pinred];\r\n            const randomIndex = Math.floor(Math.random() * images.length);\r\n            return images[randomIndex];\r\n        },\r\n        generateRotation() {\r\n            // Generate a random rotation value between minRotation and maxRotation\r\n            return (\r\n                Math.floor(Math.random() * (this.minRotation - this.maxRotation + 1)) +\r\n                this.maxRotation\r\n            );\r\n        },\r\n        resetObject() {\r\n            this.boardObject = {\r\n                title: \"\",\r\n                board_body: \"\",\r\n                valid_to: \"\",\r\n                role: localStorage.getItem(\"role\") * 1,\r\n            };\r\n        },\r\n    },\r\n    mounted() {\r\n        this.getBoardList();\r\n    },\r\n    computed: {\r\n        isDeletable() {\r\n            return (id) => {\r\n                const roleString = localStorage.getItem(\"role\") * 1;\r\n                const role =\r\n                    roleString === 0 ? \"admin\" : roleString === 2 ? \"dgd\" : \"ugd\";\r\n                const board = this.list.find((e) => e.id === id);\r\n                return role === board.role || role === \"admin\";\r\n            };\r\n        },\r\n    },\r\n};\r\n</script>\r\n<template>\r\n    <div class=\"board-container\">\r\n        <div class=\"text-center mt-4\">\r\n            <h2>Доска объявлений</h2>\r\n            <!-- Button trigger modal -->\r\n            <button type=\"button\" class=\"btn btn-primary text-white\" data-bs-toggle=\"modal\"\r\n                data-bs-target=\"#exampleModal\">\r\n                Создать\r\n            </button>\r\n            <!-- Modal -->\r\n            <div class=\"modal fade\" id=\"exampleModal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\"\r\n                aria-hidden=\"true\">\r\n                <div class=\"modal-dialog\">\r\n                    <div class=\"modal-content\">\r\n                        <div class=\"modal-header\">\r\n                            <h1 class=\"modal-title fs-5\" id=\"exampleModalLabel\">Создание</h1>\r\n                            <button @click=\"resetObject()\" type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\"\r\n                                aria-label=\"Close\"></button>\r\n                        </div>\r\n                        <div class=\"modal-body\">\r\n                            <div class=\"title-input\">\r\n                                <label for=\"title\">Заголовок</label>\r\n                                <input v-model=\"boardObject.title\" type=\"text\" name=\"title\" class=\"\"\r\n                                    placeholder=\"Заголовок\" required />\r\n                            </div>\r\n                            <div class=\"body-input\">\r\n                                <label for=\"body\">Текст</label>\r\n                                <textarea v-model=\"boardObject.board_body\" placeholder=\"Текст\" name=\"body\" id=\"\"\r\n                                    cols=\"20\" rows=\"10\" required></textarea>\r\n                            </div>\r\n                            <input v-model=\"boardObject.valid_to\" type=\"date\" required />\r\n                        </div>\r\n                        <div class=\"modal-footer\">\r\n                            <button @click=\"resetObject()\" type=\"button\" class=\"btn btn-secondary text-white\"\r\n                                data-bs-dismiss=\"modal\">\r\n                                Закрыть\r\n                            </button>\r\n                            <button @click=\"createBoard()\" type=\"button\" class=\"btn btn-primary text-white\">\r\n                                Сохранить\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"boards\">\r\n            <div v-if=\"list.length === 0\" class=\"birge w-full h-full flex justify-center items-center\">\r\n                <h1 class=\"font-mono font-bold\">Біз біргеміз</h1>\r\n            </div>\r\n            <div v-for=\"board in list\" :key=\"board.id\" class=\"board\" :class=\"board.role\"\r\n                :style=\"{ transform: `rotate(${generateRotation()}deg)` }\">\r\n                <div class=\"board-header\">\r\n                    <div @click=\"isDeletable(board.id) && deleteBoard(board.id)\" class=\"pin flex justify-center\">\r\n                        <img :src=\"generatePin()\" alt=\"\" width=\"30%\" />\r\n                    </div>\r\n\r\n                    <div class=\"title\">\r\n                        <h4>{{ board.title }}</h4>\r\n                    </div>\r\n                </div>\r\n                <div class=\"board-text\">\r\n                    {{ board.board_body }}\r\n                </div>\r\n                <div class=\"board-author\">\r\n                    <h5 class=\"font-bold\">{{ board.login }}</h5>\r\n                    <div class=\"date font-semibold text-sm\">{{ board.created_at }}</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n.birge {\r\n    h1 {\r\n        font-size: 5vw;\r\n        animation: shrink-grow 2s infinite;\r\n    }\r\n}\r\n\r\n@keyframes example {\r\n    0% {\r\n        color: red;\r\n    }\r\n\r\n    25% {\r\n        color: yellow;\r\n    }\r\n\r\n    50% {\r\n        color: blue;\r\n    }\r\n\r\n    100% {\r\n        color: green;\r\n    }\r\n}\r\n\r\n@keyframes shrink-grow {\r\n\r\n    0%,\r\n    100% {\r\n        transform: scale(1);\r\n    }\r\n\r\n    50% {\r\n        transform: scale(0.9);\r\n    }\r\n}\r\n\r\n@keyframes example {\r\n    0% {\r\n        background-color: red;\r\n    }\r\n\r\n    25% {\r\n        background-color: yellow;\r\n    }\r\n\r\n    50% {\r\n        background-color: blue;\r\n    }\r\n\r\n    100% {\r\n        background-color: green;\r\n    }\r\n}\r\n\r\n.pin {\r\n    cursor: pointer;\r\n}\r\n\r\n.modal-body {\r\n    div {\r\n        margin: 0.5rem;\r\n    }\r\n\r\n    .title-input {\r\n        input {\r\n            width: 100%;\r\n            padding: 0.5rem;\r\n            border: 2px solid black;\r\n        }\r\n    }\r\n\r\n    .body-input {\r\n        textarea {\r\n            width: 100%;\r\n            height: auto;\r\n            padding: 0.5rem;\r\n            border: 2px solid black;\r\n        }\r\n    }\r\n}\r\n\r\n.board-container {\r\n    width: 100%;\r\n    height: 70vh;\r\n\r\n    .boards {\r\n        display: flex;\r\n        margin: 1rem;\r\n        height: 100%;\r\n        flex-direction: row;\r\n        flex-wrap: wrap;\r\n        background: url(../assets/billback.jpg);\r\n        background-size: contain;\r\n        overflow: scroll;\r\n\r\n        .board.admin {\r\n            background-color: #e05c69;\r\n        }\r\n\r\n        .board.dgd {\r\n            background-color: #5ce0ae;\r\n        }\r\n\r\n        .board.ugd {\r\n            background-color: #5ca7e0;\r\n        }\r\n\r\n        .board:hover {\r\n            transform: scale(1.04, 1.05) skew(10deg, 2deg);\r\n        }\r\n\r\n        .board {\r\n            width: 14vw;\r\n            margin: 1rem;\r\n            height: fit-content;\r\n            padding: 1rem;\r\n            background-color: aliceblue;\r\n\r\n            box-shadow: rgba(0, 0, 0, 0.7) 10px 35px 20px 0px;\r\n\r\n            .board-header {\r\n                .title {\r\n                    h4 {\r\n                        font-weight: bold;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>\r\n","import axios from \"axios\";\r\nimport { BOARD_API_URL } from \"@/utils/api\";\r\n\r\nexport const getBoardList = async () => {\r\n  const url = BOARD_API_URL;\r\n  console.log(url);\r\n  try {\r\n    const result = await axios.get(url, {\r\n      headers: {\r\n        bearer: localStorage.getItem(\"authToken\"),\r\n      },\r\n    });\r\n    return result.data.data;\r\n    // console.log(result.data.data)\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nexport const deleteBoard = async (id) => {\r\n  const url = `${BOARD_API_URL}/${id}`;\r\n  try {\r\n    await axios.delete(url, {\r\n      headers: {\r\n        bearer: localStorage.getItem(\"authToken\"),\r\n      },\r\n    }); \r\n    return true;\r\n\r\n    // console.log(result.data.data)\r\n  } catch (err) {\r\n    console.log(err);\r\n    return false;\r\n  }\r\n};\r\n\r\nexport const createBoard =async(object) =>{\r\n    try{\r\n        const result = await axios.post(BOARD_API_URL, object, {\r\n            headers: {\r\n                bearer: localStorage.getItem(\"authToken\"),\r\n            },\r\n        });\r\n        return result;\r\n    }catch(err){\r\n        console.log(err);\r\n    }\r\n}\r\n","import { render } from \"./BillBoardView.vue?vue&type=template&id=45f58259&scoped=true\"\nimport script from \"./BillBoardView.vue?vue&type=script&lang=js\"\nexport * from \"./BillBoardView.vue?vue&type=script&lang=js\"\n\nimport \"./BillBoardView.vue?vue&type=style&index=0&id=45f58259&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-45f58259\"]])\n\nexport default __exports__","<script setup>\r\nconst options = {\r\n  chart: {\r\n    type: \"bar\",\r\n    height: 350,\r\n    stacked: true,\r\n  },\r\n  plotOptions: {\r\n    bar: {\r\n      horizontal: true,\r\n      dataLabels: {\r\n        total: {\r\n          enabled: true,\r\n          offsetX: 0,\r\n          style: {\r\n            fontSize: \"13px\",\r\n            fontWeight: 900,\r\n          },\r\n        },\r\n      },\r\n    },\r\n  },\r\n  stroke: {\r\n    width: 1,\r\n    colors: [\"#fff\"],\r\n  },\r\n  title: {\r\n    text: \"Fiction Books Sales\",\r\n  },\r\n  xaxis: {\r\n    categories: [2008, 2009, 2010, 2011, 2012, 2013, 2014],\r\n    labels: {\r\n      formatter: function (val) {\r\n        return val + \"K\";\r\n      },\r\n    },\r\n  },\r\n  yaxis: {\r\n    title: {\r\n      text: undefined,\r\n    },\r\n  },\r\n  tooltip: {\r\n    y: {\r\n      formatter: function (val) {\r\n        return val + \"K\";\r\n      },\r\n    },\r\n  },\r\n  fill: {\r\n    opacity: 1,\r\n  },\r\n  legend: {\r\n    position: \"top\",\r\n    horizontalAlign: \"left\",\r\n    offsetX: 40,\r\n  },\r\n};\r\nconst series = [\r\n  {\r\n    name: \"Marine Sprite\",\r\n    data: [44, 55, 41, 37, 22, 43, 21]\r\n  },\r\n  {\r\n    name: \"Striking Calf\",\r\n    data: [53, 32, 33, 52, 13, 43, 32],\r\n  },\r\n  {\r\n    name: \"Tank Picture\",\r\n    data: [12, 17, 11, 9, 15, 11, 20],\r\n  },\r\n  {\r\n    name: \"Bucket Slope\",\r\n    data: [9, 7, 5, 8, 6, 9, 4],\r\n  },\r\n  {\r\n    name: \"Reborn Kid\",\r\n    data: [25, 12, 19, 32, 25, 24, 10],\r\n  },\r\n  {\r\n    name: \"Marine Sprite\",\r\n    data: [44, 55, 41, 37, 22, 43, 21],\r\n  },\r\n];\r\n</script>\r\n\r\n<template>\r\n  <apexchart :height=\"400\" :options=\"options\" :series=\"series\"></apexchart>\r\n</template>","import script from \"./TestView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./TestView.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import axios from \"axios\";\r\nimport { AUTH_API_URL } from \"@/utils/api\";\r\nconst token = localStorage.getItem(\"authToken\");\r\n\r\nexport const authorization = async(username,password,type)=>{\r\n    try{\r\n        const url = type === \"sc\" ? `${AUTH_API_URL}/login`:`${AUTH_API_URL}/nomadLogin`;\r\n\r\n        const response = await axios.post(url, {\r\n          username,\r\n          password,\r\n        });\r\n        localStorage.setItem(\"authToken\", response.data.token);\r\n        localStorage.setItem(\"login\", response.data.login);\r\n        localStorage.setItem(\"role\", response.data.role);\r\n        localStorage.setItem(\"id\", response.data.id);\r\n        return response;\r\n    }catch(err){\r\n        console.log(err);\r\n    }\r\n}\r\n\r\nexport const validToken = async()=>{\r\n    const url = AUTH_API_URL;\r\n    try{\r\n        await axios.get(url,{\r\n            headers:{\r\n              bearer:token\r\n            }\r\n          });\r\n          return true;\r\n    }catch(err){\r\n        console.log(err);\r\n        return false;\r\n    }\r\n}","// store/index.js\r\nimport { createStore } from \"vuex\";\r\n\r\nimport { authorization, validToken } from \"@/utils/auth\";\r\n\r\n\r\nexport default createStore({\r\n  state: {\r\n    isAuthenticated: !!localStorage.getItem(\"authToken\"),\r\n    errorMessage: \"\",\r\n    username: localStorage.getItem(\"login\") || null,\r\n    userInfo: \"\",\r\n    parentBranchId: \"\",\r\n    childBranchId: \"\",\r\n  },\r\n  mutations: {\r\n    setAuthentication(state, isAuthenticated) {\r\n      state.isAuthenticated = isAuthenticated;\r\n    },\r\n    setErrorMessage(state, message) {\r\n      state.errorMessage = message;\r\n    },\r\n    setUsername(state, username) {\r\n      state.username = username;\r\n    },\r\n    setParentBranchId(state, parentBranchId) {\r\n      state.parentBranchId = parentBranchId;\r\n    },\r\n    setChildBranchId(state, childBranchId) {\r\n      state.childBranchId = childBranchId;\r\n    },\r\n  },\r\n  actions: {\r\n    async login({ commit }, { username, password, type }) {\r\n      try {\r\n        const response = await authorization(username, password, type);\r\n        \r\n\r\n        commit(\"setUsername\", response.data.login);\r\n        commit(\"setAuthentication\", true);\r\n\r\n        return true; // Return true if login is successful\r\n      } catch (error) {\r\n        if (error.response) {\r\n          // The request was made and the server responded with a status code\r\n          if (error.response.status === 401) {\r\n            commit(\"setErrorMessage\", \"Неверное имя пользователя или пароль\");\r\n          } else if (error.response.status === 500) {\r\n            commit(\"setErrorMessage\", \"Проблемы с сервером. Повторите поеже\");\r\n          } else {\r\n            commit(\"setErrorMessage\", \"Произошла ошибка. Повторите поеже\");\r\n          }\r\n        } else if (error.request) {\r\n          // The request was made but no response was received\r\n          commit(\"setErrorMessage\", \"Нет ответа от сервера. Повторите поеже.\");\r\n        } else {\r\n          // Something happened in setting up the request that triggered an Error\r\n          commit(\"setErrorMessage\", \"Произошла ошибка. Повторите поеже.\");\r\n        }\r\n        console.error(error);\r\n        return false; // Return false if login fails\r\n      }\r\n    },\r\n    // async getInfo({commit}, {login}){\r\n    //   const result = await axios.get(\r\n    //     `http://localhost:3000/api/v1/users/get-info`,\r\n    //     {\r\n    //       headers: {\r\n    //         bearer: localStorage.getItem(\"authToken\"),\r\n    //       },\r\n    //     }\r\n    //   );\r\n\r\n    //   // if (result.data.user[0].image) {\r\n    //   //   const url = `http://${host}:${port}/images/`+ result.data.user[0].image;\r\n    //   //   console.log(url)\r\n    //   //   commit(\"setImage\",url);\r\n    //   //   localStorage.setItem(\"image\",url);\r\n    //   // } else commit(\"setImage\", null);\r\n    // },\r\n    async logout({ commit }) {\r\n      commit(\"setAuthentication\", false);\r\n      localStorage.removeItem(\"authToken\");\r\n      localStorage.removeItem(\"login\");\r\n      // commit(\"setUsername\", null);\r\n    },\r\n    clearErrorMessage({ commit }) {\r\n      commit(\"setErrorMessage\", \"\");\r\n    },\r\n    async checkToken({ commit }) {\r\n      const valid = await validToken();\r\n      if (valid) {\r\n        commit(\"setAuthentication\", true);\r\n      } else {\r\n        commit(\"setAuthentication\", false);\r\n        localStorage.removeItem(\"authToken\");\r\n      }\r\n    },\r\n  },\r\n  getters: {\r\n    errorMessage: (state) => state.errorMessage,\r\n    username: (state) => state.username,\r\n    userImage: (state) => state.userImage,\r\n    parentBranchId: (state) => state.parentBranchId,\r\n    childBranchId: (state) => state.childBranchId,\r\n    isAuth: (state, getters, rootState, rootGetters) => () => {\r\n      rootState.isAuthenticated = rootGetters.isAuthenticated; // Ensure that the isAuthenticated state is up-to-date\r\n      state.dispatch(\"checkToken\"); // Dispatch checkToken action every time isAuth is accessed\r\n      return !!state.username && !!localStorage.getItem(\"authToken\");\r\n    },\r\n  },\r\n  modules: {},\r\n});\r\n","import { createRouter, createWebHistory } from \"vue-router\";\r\n\r\n// import { mapActions} from 'vuex';\r\n\r\n// import MainView from \"@/views/MainView\";\r\nimport DashboardAmountView from \"../views/DashboardAmountView.vue\";\r\nimport DashboardView from \"@/views/DashboardView.vue\";\r\nimport MonitoringViewVue from \"@/views/MonitoringView.vue\";\r\nimport EmployeeRate from \"@/views/EmployeeRate\";\r\nimport TicketsView from \"@/views/TicketsView\";\r\nimport ChatViewVue from \"@/views/ChatView.vue\";\r\nimport ServerView from \"@/views/ServersView\";\r\nimport UsersView from \"@/views/UsersView\";\r\nimport AlarmView from \"@/views/ChangerMenu.vue\";\r\nimport CameraView from \"@/views/CameraView.vue\";\r\n\r\nimport LoginView from \"@/views/LoginView.vue\";\r\nimport MyProfileView from \"@/views/MyProfileView.vue\";\r\n\r\nimport BillBoardView from \"@/views/BillBoardView.vue\";\r\n\r\nimport TestView from \"@/views/TestView.vue\";\r\n\r\nimport store from \"@/store\";\r\nimport { validToken } from \"@/utils/auth\";\r\n \r\nconst routes = [\r\n  {\r\n    path: \"/test\",\r\n    name: \"test page\",\r\n    component: TestView,\r\n  },\r\n  {\r\n    path: \"/login\",\r\n    name: \"login page\",\r\n    component: LoginView,\r\n   \r\n  },\r\n  {\r\n    path: \"/profile\",\r\n    name: \"profile page\",\r\n    component: MyProfileView,\r\n    meta: { requiresAuth: true }\r\n  },\r\n  // {\r\n  //   path: \"/\",\r\n  //   name: \"main\",\r\n  //   component: MainView,\r\n  //   meta: { requiresAuth: true }\r\n  // },\r\n  {\r\n    path: \"/\",\r\n    name: \"amountDash\",\r\n    component: DashboardAmountView,\r\n    props: true,\r\n    meta: { requiresAuth: true }\r\n  },\r\n  {\r\n    path: \"/time-dash\",\r\n    name: \"timeDash\",\r\n    component: DashboardView,\r\n    meta: { requiresAuth: true }\r\n  },\r\n  {\r\n    path: \"/monitoring\",\r\n    name: \"monitoring\",\r\n    component: MonitoringViewVue,\r\n    meta: { requiresAuth: true }\r\n  },\r\n  {\r\n    path: \"/employee-rate\",\r\n    name: \"employee-rate\",\r\n    component: EmployeeRate,\r\n    meta: { requiresAuth: true }\r\n  },\r\n  {\r\n    path: \"/tickets\",\r\n    name: \"tickets\",\r\n    component: TicketsView,\r\n    meta: { requiresAuth: true }\r\n  },\r\n  {\r\n    path: \"/chat\",\r\n    name: \"chat\",\r\n    component: ChatViewVue,\r\n    meta: { requiresAuth: true }\r\n  },\r\n  {\r\n    path: \"/server\",\r\n    name: \"servers\",\r\n    component: ServerView,\r\n    meta: { requiresAuth: true }\r\n  },\r\n  {\r\n    path: \"/users\",\r\n    name: \"users\",\r\n    component: UsersView,\r\n    meta: { requiresAuth: true }\r\n  },\r\n  {\r\n    path: \"/changer\",\r\n    name: \"menu-changer\",\r\n    component: AlarmView,\r\n    meta: { requiresAuth: true }\r\n  },\r\n  {\r\n    path: \"/cameras\",\r\n    name: \"cameras\",\r\n    component: CameraView,\r\n    meta: { requiresAuth: true }\r\n  },\r\n  {\r\n    path: \"/bill-board\",\r\n    name: \"billboard\",\r\n    component: BillBoardView,\r\n    meta: { requiresAuth: true }\r\n  },\r\n];\r\n\r\nconst router = createRouter({\r\n  history: createWebHistory(process.env.BASE_URL),\r\n  routes,\r\n});\r\n\r\n\r\nrouter.beforeEach(async (to, from, next) => {\r\n  const check = validToken();\r\n  const isAuthenticated = store.state.isAuthenticated && check;\r\n  \r\n  // Check if the route requires authentication\r\n  if (to.path === '/login' && isAuthenticated) {\r\n    // Redirect to the main page if already authenticated\r\n    next({ name: 'main' });\r\n  }\r\n  else if (to.meta.requiresAuth) {\r\n    // Check if the user is authenticated\r\n    if (isAuthenticated) {\r\n      // If authenticated, proceed to the route\r\n      next();\r\n    } else {\r\n      // If not authenticated, redirect to the login page\r\n      next('/login');\r\n    }\r\n  } else {\r\n    // If the route does not require authentication, proceed to the route\r\n    next();\r\n  }\r\n  \r\n  // Call the checkToken action to ensure token validity\r\n  \r\n});\r\n\r\n// const checkToken =  async ()=> {\r\n//   const url = `http://${host}:${port}/api/v1/auth`;\r\n//   try {\r\n//     await axios.get(url,{\r\n//       headers:{\r\n//         bearer:localStorage.getItem(\"authToken\")\r\n//       }\r\n//     });\r\n//     return true;\r\n    \r\n//   } catch (err) {\r\n    \r\n//     localStorage.removeItem(\"authToken\");\r\n//     console.log(err);\r\n//     return false;\r\n//   }\r\n// };\r\n\r\n\r\nexport default router;\r\n","/* eslint-disable no-console */\r\n\r\nimport { register } from 'register-service-worker'\r\n\r\nif (process.env.NODE_ENV === 'production') {\r\n  register(`${process.env.BASE_URL}service-worker.js`, {\r\n    ready () {\r\n      console.log(\r\n        'App is being served from cache by a service worker.\\n' +\r\n        'For more details, visit https://goo.gl/AFskqB'\r\n      )\r\n    },\r\n    registered () {\r\n      console.log('Service worker has been registered.')\r\n    },\r\n    cached () {\r\n      console.log('Content has been cached for offline use.')\r\n    },\r\n    updatefound () {\r\n      console.log('New content is downloading.')\r\n    },\r\n    updated () {\r\n      console.log('New content is available; please refresh.')\r\n    },\r\n    offline () {\r\n      console.log('No internet connection found. App is running in offline mode.')\r\n    },\r\n    error (error) {\r\n      console.error('Error during service worker registration:', error)\r\n    }\r\n  })\r\n}\r\n","import { createApp } from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\nimport store from './store'\r\nimport './registerServiceWorker'\r\nimport './index.css'\r\nimport '@fortawesome/fontawesome-free/js/all'\r\nimport VueApexCharts from \"vue3-apexcharts\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\"\r\nimport \"bootstrap\"\r\nimport 'vuetify/styles'\r\nimport { createVuetify } from 'vuetify'\r\nimport * as components from 'vuetify/components'\r\nimport * as directives from 'vuetify/directives'\r\nimport { ru } from 'vuetify/locale'\r\n\r\nconst app = createApp(App)\r\n\r\n// Use Vue ApexCharts\r\napp.use(VueApexCharts)\r\n\r\n// Create Vuetify instance with Russian locale\r\nconst vuetify = createVuetify({\r\n  locale: {\r\n    locales: { ru },\r\n    current: 'ru',\r\n  },\r\n  components,\r\n  directives,\r\n})\r\n\r\napp.use(store).use(router).use(vuetify).mount('#app')\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkvue_js\"] = self[\"webpackChunkvue_js\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(9659); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["key","class","_createElementBlock","_Fragment","$options","isLoginPage","_createCommentVNode","_hoisted_1","_createVNode","_component_SidebarComponent","_createElementVNode","style","_normalizeStyle","$setup","sidebarWidth","_hoisted_2","_hoisted_3","_createBlock","_component_header_component","_hoisted_4","_component_dashboard_top","_component_router_view","src","_imports_0","alt","width","_hoisted_5","collapsed","_hoisted_6","_component_SidebarLink","to","icon","default","_withCtx","_createTextVNode","_","_hoisted_7","_component_router_link","$props","_normalizeClass","active","isActive","_Transition","name","_renderSlot","_ctx","$slots","undefined","ref","toggleSidebar","value","SIDEBAR_WIDTH","SIDEBAR_WIDTH_COLLAPSED","computed","props","type","String","required","setup","route","useRoute","path","__exports__","components","SidebarLink","host","process","protocol","port","API_BASE_URL","ROOT_URL","BOARD_API_URL","BRANCHES_API_URL","AUTH_API_URL","token","localStorage","getItem","fetchUserInfo","async","result","axios","get","id","headers","bearer","error","console","log","update","body","put","err","deleteUser","delete","createUser","post","fetchUsers","upload","formData","username","queryParams","URLSearchParams","login","toString","response","fetch","method","getBranch","url","data","rows","router","useRouter","store","useStore","image","branches","childBranches","selectedBranch","OnLogOut","dispatch","push","getImage","user","imgSrc","setItem","nonPhoto","downloadPdf","window","print","getBranches","filter","currentQueryParams","query","branch_id","parent_branch","F_ID","reset","currentRoute","watch","oldValue","newValue","onMounted","__props","showModal","fetchAllTickets","fetchTickets","fetchAnalyticData","fetchMap","serverInfo","color","text","number","link","maxWaitTime","maxServTime","fetchData","offline","total","servers","server_list","map","server","children","child","ONN","ratio","toFixed","getValues","alarm","count","status","SidebarComponent","HeaderComponent","DashboardTop","methods","this","$route","render","fetchTicketListByBranchId","list","branch","branchId","tickets","fetchBranchTickets","fetchTicketList","totalTickets","isChild","search","align","sortable","title","desserts","parentList","branchTickets","series","categories","chartOptions","chart","height","stacked","toolbar","show","zoom","enabled","events","legendClick","chartContext","seriesIndex","config","colors","responsive","breakpoint","options","legend","position","offsetX","horizontalAlign","offsetY","plotOptions","bar","horizontal","borderRadius","dataLabels","fontSize","fontWeight","xaxis","fill","opacity","apexChart","updateChartByBranchId","e","branchName","item","stateTickets","COMPLETED","INSERVICE","NEW","MISSED","ALARM","updateChart","updateTicketByBranchId","handleBarClick","event","point","dataPointIndex","updateOptions","backChart","newUrl","location","pathname","history","replaceState","document","alert","getBranchTickets","propBranch","find","getTicketList","formattedDesserts","ticket","starttime","Date","toLocaleString","startservtime","rating","waitover","servover","state","idbranch","sort","a","b","peakChart","avgChart","serviceChart","pickHours","stroke","curve","markers","size","hover","grid","row","yaxis","axisTicks","axisBorder","labels","avg","service","pie","expandOnClick","floating","fetchDognutData","serviceTickets","MAX_LABEL_LENGTH","legend2","truncatedLabel","servicename","length","slice","formatter","seriesName","opts","index","w","globals","allClientData","peakHours","x","time","y","long_wait","WAITOVER","long_service","SERVOVER","bad_grades","BAD","tickPlacement","tooltip","custom","avgServHours","averageServ","avgWaitHours","averageWait","timeChartData","tooltipContent","fetchWindows","windows","waitClient","info","inservice","wait","online","getWindows","operatorId","worktitle","downloadCSV","excel","winno","csvContent","convertToCSV","blob","Blob","createElement","href","URL","createObjectURL","download","click","items","header","Object","keys","join","values","fetchEmployeeByBranchId","employeeChart","formatTime","maxWidth","getEmployee","employeeData","employee","F_NAME","timeDifference","seriesData","milliseconds","hours","Math","floor","minutes","seconds","start","startTime","F_BRANCH_ID","F_DESCR","pageNumber","params","page","limit","downloadPage","responseType","setAttribute","appendChild","removeChild","pagination","pageCount","pages","fetchMessages","resultMessages","message","d","created_at","toLocaleDateString","getHours","getMinutes","getSeconds","users","postMessage","txt","messages","msg","getMessages","getUsers","sendMessage","posted","newMessages","user_login","message_txt","unFold","fold","element","forEach","el","onlineSize","createObject","password","id_branch","usersArray","deleteUserFun","create","isUgd","currentRole","blockedByRole","blocked_by","blocked","isSwitchable","isAvailable","menu","available","ch","av","brtype","setBlock","blockedValue","getUsername","getters","changeMenu","menuValue","onBeforeMount","for","_component_v_btn_toggle","modelValue","$data","_cache","$event","rounded","group","_component_v_btn","variant","disabled","onSubmit","_withModifiers","args","placeholder","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","isError","_hoisted_12","_toDisplayString","errorMessage","_hoisted_13","mapGetters","mapActions","loginSuccess","$router","isDisabled","userInfo","email","firstname","lastname","selectedFile","getInfo","handleFileChange","target","files","uploadImage","FormData","append","ok","updateInfo","tabindex","_hoisted_18","onClick","resetObject","boardObject","_hoisted_14","board_body","cols","valid_to","_hoisted_15","createBoard","_hoisted_16","_hoisted_17","_hoisted_19","_renderList","board","role","transform","generateRotation","_hoisted_20","isDeletable","deleteBoard","generatePin","_hoisted_22","_hoisted_21","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","getBoardList","object","minRotation","maxRotation","deleted","images","pingreen","pinred","randomIndex","random","mounted","roleString","val","authorization","validToken","createStore","isAuthenticated","parentBranchId","childBranchId","mutations","setAuthentication","setErrorMessage","setUsername","setParentBranchId","setChildBranchId","actions","commit","request","logout","removeItem","clearErrorMessage","checkToken","valid","userImage","isAuth","rootState","rootGetters","modules","routes","component","TestView","LoginView","MyProfileView","meta","requiresAuth","DashboardAmountView","DashboardView","MonitoringViewVue","EmployeeRate","TicketsView","ChatViewVue","ServerView","UsersView","AlarmView","CameraView","BillBoardView","createRouter","createWebHistory","beforeEach","from","next","check","register","ready","registered","cached","updatefound","updated","app","createApp","App","use","VueApexCharts","vuetify","createVuetify","locale","locales","ru","current","directives","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","every","splice","r","n","getter","__esModule","definition","o","defineProperty","enumerable","g","globalThis","Function","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}